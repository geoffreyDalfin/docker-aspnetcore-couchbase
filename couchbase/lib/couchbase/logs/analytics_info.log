2019-11-29T15:26:53.008+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T15:26:53.010+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.010+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T15:26:53.018+00:00 INFO CBAS.cbas configuring io devices based on available memory (1336): 1
2019-11-29T15:26:53.018+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T15:26:53.018+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T15:26:53.027+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:26:53.028+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:26:53.030+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:26:53.031+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:26:53.032+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:26:53.032+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T15:26:53.035+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T15:26:53.154+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T15:26:53.161+00:00 WARN CBAS.cbas Updating log level to DEBUG
2019-11-29T15:26:53.161+00:00 DEBU CBAS.cbas +StartTopologyChange change:{ID:d96dc99a22180b64b21698ff97afeb2f CurrentTopologyRev:[] Type:topology-change-rebalance KeepNodes:[{NodeInfo:{NodeID:1261062758c5b045ef2ab47d2962b13c Priority:0 Opaque:map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1]} RecoveryType:recovery-full}] EjectNodes:[]}
2019-11-29T15:26:53.161+00:00 DEBU CBAS.cbas +GetTaskList rev:1
2019-11-29T15:26:53.161+00:00 DEBU CBAS.cbas +wait rev:1
2019-11-29T15:26:53.173+00:00 DEBU CBAS.cbas Keeping node 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.174+00:00 DEBU CBAS.cbas Adding new node 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.174+00:00 DEBU CBAS.cbas updateStateLOCKED: new rev: 2 (0xc420146240)
2019-11-29T15:26:53.174+00:00 DEBU CBAS.cbas notifyWaitersLOCKED: 2
2019-11-29T15:26:53.174+00:00 INFO CBAS.cbas Initialized starting partitionId to 0 for node 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.174+00:00 INFO CBAS.cbas Initialized controllerId to 0 for node 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.174+00:00 DEBU CBAS.cbas Setting /cbas/nextPartitionId to 1 for 0xc42032d360
2019-11-29T15:26:53.175+00:00 DEBU CBAS.cbas notified; returning {{[{1261062758c5b045ef2ab47d2962b13c 0 map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1 starting-partition-id:0 controller-id:0]}]  topology-change-rebalance   0 0 1 balanced false} 2 0xc420333a40 <nil> 0}
2019-11-29T15:26:53.175+00:00 DEBU CBAS.cbas -wait rev:1
2019-11-29T15:26:53.177+00:00 DEBU CBAS.cbas Setting /cbas/nextControllerId to 1 for 0xc42032d368
2019-11-29T15:26:53.179+00:00 INFO CBAS.cbas no CC / Metadata node defined in metakv- will pick *this* node, 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:53.180+00:00 DEBU CBAS.cbas +GetNodeInfo
2019-11-29T15:26:53.180+00:00 DEBU CBAS.cbas node info: &{1261062758c5b045ef2ab47d2962b13c 0 map[num-iodevices:1 starting-partition-id:0 controller-id:0 cc-http-port:9111 host:127.0.0.1]}
2019-11-29T15:26:53.180+00:00 DEBU CBAS.cbas -GetNodeInfo
2019-11-29T15:26:53.180+00:00 DEBU CBAS.cbas writing topology: {[{1261062758c5b045ef2ab47d2962b13c 0 map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1 starting-partition-id:0 controller-id:0]}] d96dc99a22180b64b21698ff97afeb2f topology-change-rebalance 1261062758c5b045ef2ab47d2962b13c 1261062758c5b045ef2ab47d2962b13c 0 1 1 balanced true}
2019-11-29T15:26:53.180+00:00 DEBU CBAS.cbas Setting /cbas/topology to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true} for {[{1261062758c5b045ef2ab47d2962b13c 0 map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1 starting-partition-id:0 controller-id:0]}] d96dc99a22180b64b21698ff97afeb2f topology-change-rebalance 1261062758c5b045ef2ab47d2962b13c 1261062758c5b045ef2ab47d2962b13c 0 1 1 balanced true}
2019-11-29T15:26:53.183+00:00 DEBU CBAS.cbas updateStateLOCKED: new rev: 3 (0xc420146240)
2019-11-29T15:26:53.183+00:00 DEBU CBAS.cbas -StartTopologyChange change:{ID:d96dc99a22180b64b21698ff97afeb2f CurrentTopologyRev:[] Type:topology-change-rebalance KeepNodes:[{NodeInfo:{NodeID:1261062758c5b045ef2ab47d2962b13c Priority:0 Opaque:map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1 starting-partition-id:0 controller-id:0]} RecoveryType:recovery-full}] EjectNodes:[]}
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas haveRev(1) != m.Rev(3), returning {{[{1261062758c5b045ef2ab47d2962b13c 0 map[cc-http-port:9111 host:127.0.0.1 num-iodevices:1 starting-partition-id:0 controller-id:0]}] d96dc99a22180b64b21698ff97afeb2f topology-change-rebalance 1261062758c5b045ef2ab47d2962b13c 1261062758c5b045ef2ab47d2962b13c 0 1 1 balanced true} 3 0xc420333a40 <nil> 0}
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas -wait rev:1
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas task list: &{[51] [{[51] prepare/d96dc99a22180b64b21698ff97afeb2f task-prepared task-running true 0 map[]   map[rebalanceId:d96dc99a22180b64b21698ff97afeb2f]}]}
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas -GetTaskList rev:1
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas current topology: &{[50] [1261062758c5b045ef2ab47d2962b13c] true []}
2019-11-29T15:26:53.184+00:00 DEBU CBAS.cbas -GetCurrentTopology rev:1
2019-11-29T15:26:53.185+00:00 DEBU CBAS.cbas updateStateLOCKED: new rev: 4 (0xc420146240)
2019-11-29T15:26:53.185+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T15:26:53.185+00:00 DEBU CBAS.cbas Configuring iodevices: [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0]
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas +GetTaskList rev:<nil>
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas +wait rev:<nil>
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas -wait rev:<nil>
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas task list: &{[52] [{[52] prepare/d96dc99a22180b64b21698ff97afeb2f task-prepared task-running true 0 map[]   map[rebalanceId:d96dc99a22180b64b21698ff97afeb2f]}]}
2019-11-29T15:26:53.189+00:00 DEBU CBAS.cbas -GetTaskList rev:<nil>
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas +GetCurrentTopology rev:<nil>
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas +wait rev:<nil>
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas -wait rev:<nil>
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas current topology: &{[52] [1261062758c5b045ef2ab47d2962b13c] true []}
2019-11-29T15:26:53.190+00:00 DEBU CBAS.cbas -GetCurrentTopology rev:<nil>
2019-11-29T15:26:53.191+00:00 DEBU CBAS.cbas first boot of node 1261062758c5b045ef2ab47d2962b13c ensuring empty data dir /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0
2019-11-29T15:26:53.191+00:00 DEBU CBAS.cbas +GetTaskList rev:4
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas +wait rev:4
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas wait: unlocked, starting select
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas +GetCurrentTopology rev:4
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas +wait rev:4
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.192+00:00 DEBU CBAS.cbas wait: unlocked, starting select
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas +GetTaskList rev:<nil>
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas +wait rev:<nil>
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas -wait rev:<nil>
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas task list: &{[52] [{[52] prepare/d96dc99a22180b64b21698ff97afeb2f task-prepared task-running true 0 map[]   map[rebalanceId:d96dc99a22180b64b21698ff97afeb2f]}]}
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas -GetTaskList rev:<nil>
2019-11-29T15:26:53.193+00:00 DEBU CBAS.cbas delaying first boot of first node 1261062758c5b045ef2ab47d2962b13c by 2s, to avoid killing driver in the event a rename is imminent
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas +GetCurrentTopology rev:<nil>
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas +wait rev:<nil>
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas wait: obtained lock
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas -wait rev:<nil>
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas current topology: &{[52] [1261062758c5b045ef2ab47d2962b13c] true []}
2019-11-29T15:26:53.196+00:00 DEBU CBAS.cbas -GetCurrentTopology rev:<nil>
2019-11-29T15:26:53.200+00:00 DEBU CBAS.cbas +CancelTask id:prepare/d96dc99a22180b64b21698ff97afeb2f rev:<nil> mgr:0xc420146240
2019-11-29T15:26:53.200+00:00 DEBU CBAS.cbas updateStateLOCKED: new rev: 5 (0xc420146240)
2019-11-29T15:26:53.200+00:00 DEBU CBAS.cbas notifyWaitersLOCKED: 5
2019-11-29T15:26:53.200+00:00 DEBU CBAS.cbas notifyWaitersLOCKED: 5
2019-11-29T15:26:53.201+00:00 WARN CBAS.cbas Updating log level to INFO
2019-11-29T15:26:53.201+00:00 DEBU CBAS.cbas notified; returning {{[{1261062758c5b045ef2ab47d2962b13c 0 map[cc-http-port:9111 starting-partition-id:0 controller-id:0 host:127.0.0.1 num-iodevices:1]}] d96dc99a22180b64b21698ff97afeb2f topology-change-rebalance 1261062758c5b045ef2ab47d2962b13c 1261062758c5b045ef2ab47d2962b13c 0 1 1 balanced true} 5 <nil> <nil> 0}
2019-11-29T15:26:55.201+00:00 INFO CBAS.cbas nodeConfigMap: map[ccAddress:0.0.0.0 ccHeartbeatMaxMisses:4 clusterPort:9112 cbasPort:9122 publicAddress:127.0.0.1 analyticsCbHome:/opt/couchbase initialRun:false iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] ccPublicAddress:127.0.0.1 analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 analyticsHttpsListenPort:18095 messagingListenPort:9118 metadataListenPort:9121 replicationListenPort:9120 ccHeartbeatPeriod:30000 clusterListenPort:9115 cbasAddress:127.0.0.1 metadataNode:1261062758c5b045ef2ab47d2962b13c analyticsSslEnabled:true ccClusterListenPort:9112 ccClientListenPort:9113 ccConsoleListenPort:9114 nsServerAddress:127.0.0.1 nsServerPort:8091 clusterAddress:127.0.0.1 replicationFactor:4096 logDir:/opt/couchbase/var/lib/couchbase/logs analyticsHttpAdminListenPort:9110 address:0.0.0.0 replicationEnabled:true replicationStrategy:metadata ccAnalyticsMetadataPartitionId:0 txnLogBufferPagesize:262144 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 additionalCcNodes:[] metadataCallbackPort:9119 ccAnalyticsHttpListenPort:9111 analyticsNodeName:127.0.0.1:8091 resultListenPort:9117 replicationLogBufferPagesize:262144 ncservicePort:-1 ccControllerId:0 dataListenPort:9116 startingPartitionId:0]
2019-11-29T15:26:55.217+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T15:26:55.218+00:00 INFO CBAS.cbas analytics driver is running; pid: 408
2019-11-29T15:26:56.946+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:26:56.954+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T15:26:57.648+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T15:26:57.682+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T15:26:58.023+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T15:26:58.075+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T15:26:58.087+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T15:26:58.133+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.136+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"408","tid":1,"ts":1575041218136013,"s":"p","args":{"datetime":"2019-11-29T15:26:58.136Z"}}
2019-11-29T15:26:58.137+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T15:26:58.139+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T15:26:58.170+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T15:26:58.176+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.177+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T15:26:58.178+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:26:58.182+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T15:26:58.187+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T15:26:58.233+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T15:26:58.237+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T15:26:58.241+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/ didn't exist. Creating one
2019-11-29T15:26:58.242+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:26:58.244+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:58.250+00:00 INFO CBAS.logging.LogManager [main] the log dir (/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log) is empty. returning empty list
2019-11-29T15:26:58.258+00:00 INFO CBAS.logging.LogManager [main] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_0
2019-11-29T15:26:58.259+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 0 at offset: 0
2019-11-29T15:26:58.260+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 0
2019-11-29T15:26:58.265+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:26:58.268+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:58.269+00:00 INFO CBAS.nc.RecoveryManager [main] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2019-11-29T15:26:58.270+00:00 WARN CBAS.nc.NCAppRuntimeContext [main] Deleting the storage dir. initialRun = false, systemState = PERMANENT_DATA_LOSS
2019-11-29T15:26:58.307+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:26:58.312+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:58.313+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:26:58.317+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:58.318+00:00 INFO CBAS.nc.RecoveryManager [main] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2019-11-29T15:26:58.319+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: PERMANENT_DATA_LOSS
2019-11-29T15:26:58.320+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.321+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T15:26:58.380+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T15:26:58.394+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T15:26:58.456+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.461+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.463+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T15:26:58.464+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T15:26:58.465+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.466+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T15:26:58.467+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:26:58.540+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T15:26:58.542+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T15:26:58.558+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T15:26:58.573+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T15:26:58.573+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T15:26:59.474+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T15:26:59.492+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T15:26:59.492+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:26:59.496+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:59.497+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T15:26:59.496+00:00 INFO CBAS.nc.RecoveryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2019-11-29T15:26:59.497+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T15:26:59.500+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T15:26:59.500+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T15:26:59.500+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T15:26:59.500+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T15:26:59.501+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T15:26:59.503+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T15:26:59.505+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T15:26:59.509+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@760f158d
2019-11-29T15:26:59.510+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: BOOTSTRAPPING
2019-11-29T15:26:59.508+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T15:26:59.519+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@16e22cb7
2019-11-29T15:26:59.520+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:26:59.520+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:26:59.520+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:26:59.520+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:26:59.521+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:26:59.521+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T15:26:59.521+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:26:59.526+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned empty
2019-11-29T15:26:59.527+00:00 INFO CBAS.nc.RecoveryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2019-11-29T15:26:59.527+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T15:26:59.540+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T15:26:59.543+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T15:26:59.545+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T15:26:59.551+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T15:26:59.708+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T15:26:59.745+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T15:26:59.783+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T15:26:59.827+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T15:26:59.864+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T15:26:59.902+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T15:26:59.940+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T15:26:59.980+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T15:27:00.018+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T15:27:00.079+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T15:27:00.120+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T15:27:00.172+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T15:27:00.219+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T15:27:00.267+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in new universe
2019-11-29T15:27:00.411+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished inserting initial datasets.
2019-11-29T15:27:00.566+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished inserting initial datatypes.
2019-11-29T15:27:00.615+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished inserting built-in adapters.
2019-11-29T15:27:00.633+00:00 INFO CBAS.feeds.BuiltinFeedPolicies [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished adding built-in feed policies.
2019-11-29T15:27:00.647+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished creating metadata B-trees.
2019-11-29T15:27:00.656+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T15:27:00.705+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T15:27:00.707+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T15:27:00.779+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T15:27:00.850+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished inserting initial datasets.
2019-11-29T15:27:00.877+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T15:27:00.879+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:27:00.882+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:27:00.883+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:27:00.884+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T15:27:00.885+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T15:27:00.908+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Dataverse/0/Dataverse", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.089+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Dataset/0/Dataset", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.175+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Datatype/0/Datatype", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.245+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Index/0/Index", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.314+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Node/0/Node", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.363+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Nodegroup/0/Nodegroup", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.427+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/DatasourceAdapter/0/DatasourceAdapter", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.494+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/FeedPolicy/0/FeedPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.556+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/CompactionPolicy/0/CompactionPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.671+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Link/0/Link", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:27:01.717+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned empty
2019-11-29T15:27:01.718+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0 which doesn't exist yet
2019-11-29T15:27:01.725+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0 which now exists
2019-11-29T15:27:01.728+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:27:01.728+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:27:01.735+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T15:27:01.737+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T15:27:01.738+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(0)
2019-11-29T15:27:01.746+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_1
2019-11-29T15:27:01.750+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_0
2019-11-29T15:27:01.752+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 1 at offset: 0
2019-11-29T15:27:01.752+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 268435456
2019-11-29T15:27:01.755+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T15:27:01.755+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T15:27:01.756+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:27:01.757+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T15:27:01.757+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T15:27:01.759+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@6e20b436
2019-11-29T15:27:01.759+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@6e20b436
2019-11-29T15:27:01.761+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:27:01.763+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:27:01.792+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:27:01.792+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:27:01.811+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:27:01.811+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:27:01.812+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:27:02.125+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@29f4a8af
2019-11-29T15:27:02.127+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T15:27:02.128+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T15:27:02.129+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T15:27:02.129+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T15:27:02.129+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T15:27:02.131+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T15:27:02.137+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T15:27:02.138+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T15:27:02.139+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T15:27:02.139+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T15:27:02.143+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":1,"nodes":[]}
2019-11-29T15:27:02.217+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T15:27:02.217+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T15:27:02.219+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T15:27:02.219+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T15:40:08.136+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T15:40:08.137+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:08.137+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T15:40:08.145+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T15:40:08.145+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T15:40:08.522+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:40:08.527+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:40:08.528+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:40:08.529+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:40:08.531+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:40:08.531+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T15:40:08.541+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T15:40:08.833+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T15:40:08.837+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T15:40:08.854+00:00 INFO CBAS.cbas nodeConfigMap: map[nsServerAddress:127.0.0.1 analyticsHttpAdminListenPort:9110 analyticsSslEnabled:true ccClusterListenPort:9112 clusterPort:9112 replicationFactor:4096 startingPartitionId:0 initialRun:false logDir:/opt/couchbase/var/lib/couchbase/logs messagingListenPort:9118 nsServerPort:8091 clusterAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 metadataCallbackPort:9119 address:0.0.0.0 analyticsCbHome:/opt/couchbase analyticsNodeName:127.0.0.1:8091 metadataNode:1261062758c5b045ef2ab47d2962b13c ccPublicAddress:127.0.0.1 dataListenPort:9116 replicationStrategy:metadata resultListenPort:9117 analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 cbasPort:9122 ccAnalyticsHttpListenPort:9111 ccControllerId:0 ccHeartbeatPeriod:30000 clusterListenPort:9115 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] additionalCcNodes:[] analyticsHttpsListenPort:18095 cbasAddress:127.0.0.1 ccAddress:0.0.0.0 metadataListenPort:9121 ncservicePort:-1 replicationEnabled:true replicationLogBufferPagesize:262144 txnLogBufferPagesize:262144 publicAddress:127.0.0.1 replicationListenPort:9120 ccAnalyticsMetadataPartitionId:0 ccClientListenPort:9113 ccConsoleListenPort:9114 ccHeartbeatMaxMisses:4]
2019-11-29T15:40:08.869+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T15:40:08.871+00:00 INFO CBAS.cbas analytics driver is running; pid: 393
2019-11-29T15:40:11.781+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:40:11.792+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T15:40:12.565+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T15:40:12.617+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T15:40:13.012+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T15:40:13.071+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T15:40:13.081+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T15:40:13.144+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:13.149+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"393","tid":1,"ts":1575042013148014,"s":"p","args":{"datetime":"2019-11-29T15:40:13.147Z"}}
2019-11-29T15:40:13.150+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T15:40:13.151+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T15:40:13.204+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T15:40:13.209+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:13.210+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T15:40:13.211+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:40:13.213+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T15:40:13.221+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T15:40:13.286+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T15:40:13.289+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T15:40:13.291+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:40:13.294+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:13.294+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:13.321+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 1 at offset: 0
2019-11-29T15:40:13.322+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 268435456
2019-11-29T15:40:13.327+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:40:13.331+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:13.332+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:13.370+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:40:13.374+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:13.375+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:13.379+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:40:13.382+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:13.383+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:13.391+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T15:40:13.392+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:13.394+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T15:40:14.684+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T15:40:14.700+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T15:40:14.815+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:14.827+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:14.831+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T15:40:14.838+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T15:40:14.841+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:14.843+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T15:40:14.846+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:40:14.967+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T15:40:14.971+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T15:40:14.974+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T15:40:15.007+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T15:40:15.008+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T15:40:16.314+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T15:40:16.334+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T15:40:16.334+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:40:16.335+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T15:40:16.336+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T15:40:16.337+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T15:40:16.339+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:16.339+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T15:40:16.339+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T15:40:16.340+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":1,"nodes":[]}
2019-11-29T15:40:16.340+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:16.341+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T15:40:16.366+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@316ed359
2019-11-29T15:40:16.366+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T15:40:16.376+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@a8603e3
2019-11-29T15:40:16.378+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:40:16.379+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:40:16.380+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:40:16.389+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:40:16.390+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:40:16.391+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:40:16.396+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:16.397+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:16.394+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T15:40:16.405+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T15:40:16.456+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T15:40:16.469+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T15:40:16.472+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T15:40:16.478+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T15:40:16.671+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T15:40:16.725+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T15:40:16.735+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T15:40:16.735+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T15:40:16.735+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T15:40:16.735+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T15:40:16.775+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T15:40:16.817+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T15:40:16.868+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T15:40:16.911+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T15:40:16.936+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T15:40:16.977+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T15:40:17.005+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T15:40:17.045+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T15:40:17.069+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T15:40:17.138+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T15:40:17.166+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T15:40:17.196+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T15:40:17.236+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T15:40:17.408+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T15:40:17.411+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T15:40:17.446+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T15:40:17.561+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T15:40:17.563+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:40:17.563+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:40:17.564+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:40:17.565+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T15:40:17.566+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T15:40:17.569+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.572+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.575+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.578+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.581+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.583+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.587+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.591+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.593+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.597+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.600+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.603+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.607+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.610+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.629+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-11:1261062758c5b045ef2ab47d2962b13c] Flushing component with id: [2,2] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_0/Metadata/Link/0/Link", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[2,2]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 1, "num-scheduled-flushes":1, "current-memory-component":1}
2019-11-29T15:40:17.747+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T15:40:17.750+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2019-11-29T15:40:17.751+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1 which doesn't exist yet
2019-11-29T15:40:17.759+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1 which now exists
2019-11-29T15:40:17.762+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:40:17.762+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:40:17.766+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:40:17.771+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T15:40:17.773+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T15:40:17.774+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(1)
2019-11-29T15:40:17.783+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_2
2019-11-29T15:40:17.789+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_1
2019-11-29T15:40:17.791+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 2 at offset: 0
2019-11-29T15:40:17.791+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 536870912
2019-11-29T15:40:17.793+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T15:40:17.794+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T15:40:17.795+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:40:17.795+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T15:40:17.796+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T15:40:17.797+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@73018bbd
2019-11-29T15:40:17.798+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@73018bbd
2019-11-29T15:40:17.802+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:40:17.804+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:40:17.848+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:40:17.851+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:40:17.869+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:40:17.870+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:40:17.870+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:40:18.265+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@bf9acc6
2019-11-29T15:40:18.268+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T15:40:18.274+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T15:40:18.275+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T15:40:18.276+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T15:40:18.278+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T15:40:18.281+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T15:40:18.294+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T15:40:18.296+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T15:40:18.298+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T15:40:18.299+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T15:40:18.314+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":2,"nodes":[]}
2019-11-29T15:40:18.346+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T15:40:18.347+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T15:40:18.348+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T15:40:18.350+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T15:40:19.893+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":true,"multiStatement":true}
2019-11-29T15:40:19.982+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;;
2019-11-29T15:40:20.287+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T15:40:20.320+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T15:40:22.184+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T15:40:22.232+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T15:40:22.247+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-11-29T15:40:22.259+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-11-29T15:40:22.355+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: com.couchbase.analytics.messaging.ShadowingStatsRequest@1b93dd8e
2019-11-29T15:40:22.361+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: com.couchbase.analytics.messaging.ShadowingStatsResponse@7bc2e641
2019-11-29T15:40:37.661+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-1] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T15:40:37.697+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=4, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T15:40:38.264+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.3
2019-11-29T15:40:38.277+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=4): 53 characters
2019-11-29T15:40:38.567+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-2] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T15:40:38.595+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=5, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T15:40:39.233+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.4
2019-11-29T15:40:39.247+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=5): 53 characters
2019-11-29T15:40:54.091+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-3] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T15:40:54.107+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=6, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T15:40:54.338+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.5
2019-11-29T15:40:54.343+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=6): 53 characters
2019-11-29T15:42:50.942+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T15:42:50.943+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:50.943+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T15:42:50.952+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T15:42:50.952+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T15:42:51.467+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:42:51.469+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:42:51.471+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:42:51.472+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:42:51.473+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T15:42:51.473+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T15:42:51.500+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T15:42:51.691+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T15:42:51.706+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T15:42:51.730+00:00 INFO CBAS.cbas nodeConfigMap: map[ccControllerId:0 ccHeartbeatMaxMisses:4 ccPublicAddress:127.0.0.1 clusterAddress:127.0.0.1 analyticsHttpListenPort:8095 cbasPort:9122 ccAddress:0.0.0.0 ccClientListenPort:9113 replicationListenPort:9120 replicationStrategy:metadata ncservicePort:-1 nsServerPort:8091 replicationEnabled:true replicationFactor:4096 additionalCcNodes:[] ccClusterListenPort:9112 initialRun:false messagingListenPort:9118 clusterPort:9112 resultListenPort:9117 analyticsCbHome:/opt/couchbase analyticsCcHttpPort:9111 ccAnalyticsHttpListenPort:9111 clusterListenPort:9115 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] metadataNode:1261062758c5b045ef2ab47d2962b13c startingPartitionId:0 address:0.0.0.0 analyticsNodeName:127.0.0.1:8091 analyticsSslEnabled:true cbasAddress:127.0.0.1 txnLogBufferPagesize:262144 ccConsoleListenPort:9114 ccHeartbeatPeriod:30000 metadataCallbackPort:9119 replicationLogBufferPagesize:262144 analyticsHttpsListenPort:18095 ccAnalyticsMetadataPartitionId:0 dataListenPort:9116 metadataListenPort:9121 analyticsHttpAdminListenPort:9110 logDir:/opt/couchbase/var/lib/couchbase/logs nsServerAddress:127.0.0.1 publicAddress:127.0.0.1]
2019-11-29T15:42:51.748+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T15:42:51.751+00:00 INFO CBAS.cbas analytics driver is running; pid: 387
2019-11-29T15:42:54.131+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:42:54.147+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T15:42:55.007+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T15:42:55.050+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T15:42:55.469+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T15:42:55.545+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T15:42:55.560+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T15:42:55.605+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:55.612+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"387","tid":1,"ts":1575042175612075,"s":"p","args":{"datetime":"2019-11-29T15:42:55.610Z"}}
2019-11-29T15:42:55.613+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T15:42:55.615+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T15:42:55.663+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T15:42:55.669+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:55.671+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T15:42:55.673+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T15:42:55.675+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T15:42:55.681+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T15:42:55.733+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T15:42:55.739+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T15:42:55.743+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:42:55.745+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:55.746+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:55.751+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:55.772+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 2 at offset: 0
2019-11-29T15:42:55.772+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 536870912
2019-11-29T15:42:55.776+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:42:55.781+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:55.782+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:55.786+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:55.820+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:42:55.824+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:55.825+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:55.829+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:55.834+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T15:42:55.836+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:55.836+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:55.841+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:55.847+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T15:42:55.848+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:55.850+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T15:42:57.233+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T15:42:57.268+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T15:42:57.467+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:57.487+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:57.490+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T15:42:57.491+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T15:42:57.492+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:57.493+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T15:42:57.495+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T15:42:57.789+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T15:42:57.802+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T15:42:57.812+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T15:42:57.860+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T15:42:57.877+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T15:42:59.167+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T15:42:59.194+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T15:42:59.194+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:42:59.197+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T15:42:59.198+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T15:42:59.200+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:59.202+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T15:42:59.202+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":2,"nodes":[]}
2019-11-29T15:42:59.201+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:59.207+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T15:42:59.209+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:59.210+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T15:42:59.220+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T15:42:59.246+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@307b01b2
2019-11-29T15:42:59.246+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T15:42:59.264+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@4eb9c426
2019-11-29T15:42:59.265+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:42:59.266+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:42:59.266+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:42:59.268+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T15:42:59.269+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:42:59.276+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T15:42:59.280+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T15:42:59.281+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:42:59.281+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:42:59.288+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:42:59.301+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T15:42:59.335+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T15:42:59.347+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T15:42:59.351+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T15:42:59.382+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T15:42:59.501+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T15:42:59.501+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T15:42:59.501+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T15:42:59.501+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T15:42:59.630+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T15:42:59.706+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T15:42:59.772+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T15:42:59.827+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T15:42:59.885+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T15:42:59.943+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T15:42:59.973+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T15:43:00.033+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T15:43:00.062+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T15:43:00.124+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T15:43:00.153+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T15:43:00.204+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T15:43:00.245+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T15:43:00.276+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T15:43:00.345+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T15:43:00.488+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T15:43:00.489+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T15:43:00.516+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T15:43:00.598+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T15:43:00.599+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T15:43:00.603+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:43:00.606+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T15:43:00.607+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T15:43:00.609+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T15:43:00.619+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.623+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.631+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.634+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.640+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.643+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.645+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.649+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.652+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.654+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.656+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.658+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.661+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.663+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.668+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.670+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T15:43:00.675+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2019-11-29T15:43:00.678+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2 which doesn't exist yet
2019-11-29T15:43:00.692+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2 which now exists
2019-11-29T15:43:00.695+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T15:43:00.696+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T15:43:00.706+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T15:43:00.723+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T15:43:00.732+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T15:43:00.738+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T15:43:00.739+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(2)
2019-11-29T15:43:00.749+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_3
2019-11-29T15:43:00.755+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_2
2019-11-29T15:43:00.758+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 3 at offset: 0
2019-11-29T15:43:00.759+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 805306368
2019-11-29T15:43:00.761+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T15:43:00.761+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T15:43:00.765+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:43:00.765+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T15:43:00.766+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T15:43:00.767+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@c122a16
2019-11-29T15:43:00.767+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@c122a16
2019-11-29T15:43:00.770+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T15:43:00.771+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:43:00.819+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T15:43:00.821+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:43:00.839+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T15:43:00.840+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:43:00.842+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T15:43:01.283+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@2a754c4c
2019-11-29T15:43:01.292+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T15:43:01.294+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T15:43:01.294+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T15:43:01.294+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T15:43:01.294+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T15:43:01.298+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T15:43:01.312+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T15:43:01.313+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T15:43:01.314+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T15:43:01.315+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T15:43:01.325+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":3,"nodes":[]}
2019-11-29T15:43:01.347+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T15:43:01.347+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T15:43:01.349+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T15:43:01.349+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:21:04.557+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:21:04.561+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:04.561+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:21:04.569+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:21:04.569+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:21:05.989+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:21:05.991+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:21:05.993+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:21:05.995+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:21:05.999+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:21:06.000+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:21:06.029+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:21:06.356+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:21:06.370+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:21:06.392+00:00 INFO CBAS.cbas nodeConfigMap: map[analyticsHttpsListenPort:18095 ccPublicAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 replicationLogBufferPagesize:262144 ccAnalyticsMetadataPartitionId:0 clusterAddress:127.0.0.1 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] logDir:/opt/couchbase/var/lib/couchbase/logs replicationEnabled:true startingPartitionId:0 replicationStrategy:metadata ccClusterListenPort:9112 ccControllerId:0 clusterPort:9112 metadataCallbackPort:9119 metadataListenPort:9121 publicAddress:127.0.0.1 replicationListenPort:9120 txnLogBufferPagesize:262144 address:0.0.0.0 ccAnalyticsHttpListenPort:9111 ccHeartbeatPeriod:30000 dataListenPort:9116 messagingListenPort:9118 ccClientListenPort:9113 metadataNode:1261062758c5b045ef2ab47d2962b13c resultListenPort:9117 initialRun:false additionalCcNodes:[] analyticsCbHome:/opt/couchbase analyticsHttpAdminListenPort:9110 analyticsNodeName:127.0.0.1:8091 analyticsSslEnabled:true ccConsoleListenPort:9114 ccHeartbeatMaxMisses:4 ncservicePort:-1 analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 cbasAddress:127.0.0.1 clusterListenPort:9115 cbasPort:9122 ccAddress:0.0.0.0 nsServerAddress:127.0.0.1 nsServerPort:8091 replicationFactor:4096]
2019-11-29T16:21:06.431+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:21:06.442+00:00 INFO CBAS.cbas analytics driver is running; pid: 393
2019-11-29T16:21:09.562+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:21:09.579+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:21:10.618+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:21:10.669+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:21:11.089+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:21:11.156+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:21:11.168+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:21:11.214+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:11.219+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"393","tid":1,"ts":1575044471219014,"s":"p","args":{"datetime":"2019-11-29T16:21:11.217Z"}}
2019-11-29T16:21:11.220+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:21:11.221+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:21:11.256+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:21:11.260+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:11.263+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:21:11.264+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:21:11.268+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:21:11.273+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:21:11.327+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:21:11.332+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:21:11.336+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:21:11.338+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:11.338+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:11.343+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:11.349+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:11.370+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 3 at offset: 0
2019-11-29T16:21:11.372+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 805306368
2019-11-29T16:21:11.380+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:21:11.388+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:11.388+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:11.392+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:11.396+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:11.432+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:21:11.437+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:11.439+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:11.445+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:11.452+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:11.459+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:21:11.461+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:11.462+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:11.466+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:11.471+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:11.478+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:21:11.481+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:11.481+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:21:12.849+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:21:12.871+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:21:13.008+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:13.020+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:13.023+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:21:13.025+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:21:13.026+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:13.027+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:21:13.030+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:21:13.225+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:21:13.227+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:21:13.228+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:21:13.327+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-10:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:21:13.331+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-10:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:21:15.255+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T16:21:15.275+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:21:15.275+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:21:15.278+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:21:15.279+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:21:15.280+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:15.280+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:15.284+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:21:15.285+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":3,"nodes":[]}
2019-11-29T16:21:15.285+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:15.279+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:21:15.289+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:15.293+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:21:15.295+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:21:15.319+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@1052dd93
2019-11-29T16:21:15.320+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:21:15.351+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@46704b5f
2019-11-29T16:21:15.352+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:21:15.353+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:21:15.353+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:21:15.366+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:21:15.366+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:21:15.371+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:21:15.374+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:21:15.376+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:15.377+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:15.381+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:15.386+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:15.392+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-10:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:21:15.425+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-10:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:21:15.439+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:21:15.443+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:21:15.466+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:21:15.548+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:21:15.548+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:21:15.548+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:21:15.549+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:21:15.622+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:21:15.672+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:21:15.711+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:21:15.801+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:21:15.861+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:21:15.933+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:21:15.976+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:21:16.031+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:21:16.066+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:21:16.123+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:21:16.158+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:21:16.228+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:21:16.266+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:21:16.301+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:21:16.380+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:21:16.571+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:21:16.575+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:21:16.612+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:21:16.709+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-10:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:21:16.712+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:21:16.715+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:21:16.719+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:21:16.723+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:21:16.726+00:00 INFO CBAS.recovery.CheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:21:16.739+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.744+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.748+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.750+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.753+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.756+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.758+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.760+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.762+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.764+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.767+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.770+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.772+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.775+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.777+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.780+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:21:16.785+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:16.786+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3 which doesn't exist yet
2019-11-29T16:21:16.795+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3 which now exists
2019-11-29T16:21:16.797+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:21:16.798+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:16.802+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:21:16.806+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:21:16.810+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:21:16.816+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2019-11-29T16:21:16.818+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:21:16.820+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:21:16.820+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(3)
2019-11-29T16:21:16.830+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_4
2019-11-29T16:21:16.837+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_3
2019-11-29T16:21:16.840+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 4 at offset: 0
2019-11-29T16:21:16.841+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 1073741824
2019-11-29T16:21:16.843+00:00 INFO CBAS.recovery.CheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:21:16.844+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:21:16.846+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:21:16.847+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:21:16.848+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:21:16.849+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1ec60809
2019-11-29T16:21:16.850+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1ec60809
2019-11-29T16:21:16.853+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:21:16.859+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:21:16.896+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:21:16.898+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:21:16.913+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:21:16.914+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:21:16.914+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:21:17.281+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@28dfe006
2019-11-29T16:21:17.283+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:21:17.286+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:21:17.287+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:21:17.287+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:21:17.288+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:21:17.291+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:21:17.298+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:21:17.301+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:21:17.302+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:21:17.303+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:21:17.308+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":4,"nodes":[]}
2019-11-29T16:21:17.328+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:21:17.329+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:21:17.331+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:21:17.331+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:21:34.249+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:21:34.301+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:21:35.984+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T16:21:36.008+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T16:35:26.851+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:35:26.853+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:26.853+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:35:26.863+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:35:26.863+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:35:27.718+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:35:27.719+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:35:27.720+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:35:27.722+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:35:27.723+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:35:27.734+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:35:27.745+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:35:28.016+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:35:28.023+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:35:28.041+00:00 INFO CBAS.cbas nodeConfigMap: map[dataListenPort:9116 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] startingPartitionId:0 ccAnalyticsMetadataPartitionId:0 ccControllerId:0 metadataListenPort:9121 publicAddress:127.0.0.1 clusterPort:9112 ncservicePort:-1 nsServerPort:8091 replicationEnabled:true additionalCcNodes:[] analyticsSslEnabled:true cbasPort:9122 ccPublicAddress:127.0.0.1 analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 ccAnalyticsHttpListenPort:9111 ccConsoleListenPort:9114 clusterAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 messagingListenPort:9118 nsServerAddress:127.0.0.1 analyticsNodeName:127.0.0.1:8091 ccAddress:0.0.0.0 ccClusterListenPort:9112 ccHeartbeatPeriod:30000 resultListenPort:9117 initialRun:false metadataCallbackPort:9119 replicationListenPort:9120 analyticsHttpAdminListenPort:9110 cbasAddress:127.0.0.1 ccHeartbeatMaxMisses:4 clusterListenPort:9115 ccClientListenPort:9113 logDir:/opt/couchbase/var/lib/couchbase/logs metadataNode:1261062758c5b045ef2ab47d2962b13c replicationStrategy:metadata replicationLogBufferPagesize:262144 txnLogBufferPagesize:262144 address:0.0.0.0 analyticsCbHome:/opt/couchbase analyticsHttpsListenPort:18095 replicationFactor:4096]
2019-11-29T16:35:28.063+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:35:28.066+00:00 INFO CBAS.cbas analytics driver is running; pid: 392
2019-11-29T16:35:30.558+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:35:30.570+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:35:31.376+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:35:31.414+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:35:31.825+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:35:31.895+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:35:31.905+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:35:31.946+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:31.951+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"392","tid":1,"ts":1575045331951012,"s":"p","args":{"datetime":"2019-11-29T16:35:31.950Z"}}
2019-11-29T16:35:31.952+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:35:31.953+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:35:31.988+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:35:31.992+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:31.993+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:35:31.994+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:35:31.996+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:35:32.001+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:35:32.046+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:35:32.050+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:35:32.053+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:35:32.055+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:32.056+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:32.062+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:32.066+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:32.065+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 4 at offset: 0
2019-11-29T16:35:32.069+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 1073741824
2019-11-29T16:35:32.080+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:35:32.085+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:32.086+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:32.090+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:32.095+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:32.133+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:35:32.138+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:32.139+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:32.144+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:32.148+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:32.153+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:35:32.155+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:32.156+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:32.160+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:32.164+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:32.171+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:35:32.172+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:32.173+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:35:33.108+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:35:33.117+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:35:33.191+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:33.197+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:33.199+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:35:33.200+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:35:33.201+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:33.202+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:35:33.203+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:35:33.311+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:35:33.312+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:35:33.313+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:35:33.319+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:35:33.323+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:35:34.539+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"clientAuth":"NONE","supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"]} and native openssl version: BoringSSL-269484159
2019-11-29T16:35:34.560+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:35:34.561+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:35:34.564+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:35:34.564+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:35:34.568+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:35:34.571+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:35:34.568+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:34.574+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":4,"nodes":[]}
2019-11-29T16:35:34.573+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:34.587+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:34.588+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:35:34.591+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:35:34.594+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:34.626+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@52db11ad
2019-11-29T16:35:34.629+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:35:34.651+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@535f7a3c
2019-11-29T16:35:34.654+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:35:34.655+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:35:34.656+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:35:34.658+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:35:34.660+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:35:34.660+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:35:34.661+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:35:34.669+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:34.670+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:34.675+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:34.679+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:34.689+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:35:34.729+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:35:34.744+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:35:34.749+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:35:34.760+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:35:34.984+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:35:34.985+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:35:34.985+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:35:34.985+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:35:35.015+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:35:35.090+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:35:35.179+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:35:35.262+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:35:35.336+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:35:35.409+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:35:35.446+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:35:35.500+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:35:35.530+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:35:35.601+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:35:35.631+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:35:35.684+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:35:35.716+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:35:35.755+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:35:35.840+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:35:36.013+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:35:36.017+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:35:36.045+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:35:36.138+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:35:36.140+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:35:36.144+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:35:36.150+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:35:36.150+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:35:36.150+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:35:36.156+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.159+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.163+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.165+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.167+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.169+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.170+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.172+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.174+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.176+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.178+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.182+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.184+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.187+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.189+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.191+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:35:36.197+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:36.201+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4 which doesn't exist yet
2019-11-29T16:35:36.215+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4 which now exists
2019-11-29T16:35:36.218+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:35:36.219+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:36.224+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:35:36.232+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:35:36.239+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:35:36.243+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2019-11-29T16:35:36.246+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:35:36.254+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:35:36.254+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(4)
2019-11-29T16:35:36.277+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_5
2019-11-29T16:35:36.291+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_4
2019-11-29T16:35:36.302+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 5 at offset: 0
2019-11-29T16:35:36.304+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 1342177280
2019-11-29T16:35:36.308+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:35:36.308+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:35:36.309+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:35:36.309+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:35:36.309+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:35:36.311+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@4a53a85e
2019-11-29T16:35:36.312+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@4a53a85e
2019-11-29T16:35:36.316+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:35:36.317+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:35:36.379+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:35:36.384+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:35:36.408+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:35:36.409+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:35:36.409+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:35:36.932+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@45550675
2019-11-29T16:35:36.935+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:35:36.936+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:35:36.936+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:35:36.937+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:35:36.937+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:35:36.939+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:35:36.950+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:35:36.951+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:35:36.952+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:35:36.952+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:35:36.957+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":5,"nodes":[]}
2019-11-29T16:35:37.004+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:35:37.005+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:35:37.009+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:35:37.009+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:35:45.652+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":true,"multiStatement":true}
2019-11-29T16:35:45.760+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;;
2019-11-29T16:35:46.038+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:35:46.108+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:35:47.497+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-11-29T16:35:47.501+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T16:35:47.525+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T16:35:47.527+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-11-29T16:35:47.738+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: com.couchbase.analytics.messaging.ShadowingStatsRequest@3005016a
2019-11-29T16:35:47.748+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: com.couchbase.analytics.messaging.ShadowingStatsResponse@4bffd187
2019-11-29T16:39:12.732+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:39:12.734+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:12.734+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:39:12.740+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:39:12.740+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:39:12.839+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:39:12.851+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:39:12.996+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:39:13.000+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:39:13.009+00:00 INFO CBAS.cbas nodeConfigMap: map[ccClientListenPort:9113 messagingListenPort:9118 replicationListenPort:9120 resultListenPort:9117 additionalCcNodes:[] analyticsHttpAdminListenPort:9110 ccControllerId:0 ccHeartbeatMaxMisses:4 clusterListenPort:9115 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 logDir:/opt/couchbase/var/lib/couchbase/logs metadataListenPort:9121 analyticsCbHome:/opt/couchbase ccConsoleListenPort:9114 replicationLogBufferPagesize:262144 dataListenPort:9116 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] metadataNode:1261062758c5b045ef2ab47d2962b13c address:0.0.0.0 clusterAddress:127.0.0.1 clusterPort:9112 nsServerPort:8091 startingPartitionId:0 ccAddress:0.0.0.0 ccPublicAddress:127.0.0.1 cbasPort:9122 ccAnalyticsHttpListenPort:9111 replicationFactor:4096 replicationStrategy:metadata txnLogBufferPagesize:262144 analyticsHttpListenPort:8095 analyticsNodeName:127.0.0.1:8091 metadataCallbackPort:9119 ncservicePort:-1 nsServerAddress:127.0.0.1 replicationEnabled:true analyticsHttpsListenPort:18095 ccAnalyticsMetadataPartitionId:0 cbasAddress:127.0.0.1 ccClusterListenPort:9112 ccHeartbeatPeriod:30000 initialRun:false publicAddress:127.0.0.1 analyticsCcHttpPort:9111 analyticsSslEnabled:true]
2019-11-29T16:39:13.019+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:39:13.021+00:00 INFO CBAS.cbas analytics driver is running; pid: 371
2019-11-29T16:39:15.374+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:39:15.391+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:39:16.293+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:39:16.337+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:39:16.758+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:39:16.815+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:39:16.832+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:39:16.867+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:16.871+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"371","tid":1,"ts":1575045556871014,"s":"p","args":{"datetime":"2019-11-29T16:39:16.870Z"}}
2019-11-29T16:39:16.872+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:39:16.872+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:39:16.906+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:39:16.909+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:16.910+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:39:16.910+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:39:16.912+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:39:16.918+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:39:16.964+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:39:16.968+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:39:16.971+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:39:16.974+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:16.975+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:16.982+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:16.988+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:17.012+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 5 at offset: 0
2019-11-29T16:39:17.013+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 1342177280
2019-11-29T16:39:17.020+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:39:17.023+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:17.024+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:17.032+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:17.038+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:17.080+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:39:17.084+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:17.085+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:17.089+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:17.094+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:17.102+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:39:17.105+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:17.106+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:17.111+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:17.115+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:17.125+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:39:17.126+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:17.128+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:39:18.822+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:39:18.831+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:39:18.910+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:18.919+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:18.924+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:39:18.926+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:39:18.928+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:18.930+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:39:18.932+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:39:19.038+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:39:19.041+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:39:19.046+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:39:19.051+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:39:19.055+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:39:20.694+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T16:39:20.737+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:39:20.737+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:39:20.744+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:20.745+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:20.747+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:39:20.747+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:39:20.749+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:39:20.749+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":5,"nodes":[]}
2019-11-29T16:39:20.749+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:39:20.753+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:39:20.753+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:20.754+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:39:20.759+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:20.800+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@7a8a18bc
2019-11-29T16:39:20.802+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:39:20.814+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@1b806018
2019-11-29T16:39:20.817+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:39:20.818+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:39:20.819+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:39:20.823+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:39:20.824+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:39:20.826+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:39:20.832+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:20.834+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:20.841+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:20.844+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:39:20.848+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:20.857+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:39:20.881+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:39:20.896+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:39:20.900+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:39:20.915+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:39:21.112+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:39:21.112+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:39:21.112+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:39:21.112+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:39:21.158+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:39:21.246+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:39:21.302+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:39:21.364+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:39:21.429+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:39:21.484+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:39:21.521+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:39:21.640+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:39:21.690+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:39:21.775+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:39:21.815+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:39:21.875+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:39:21.909+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:39:21.934+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:39:22.001+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:39:22.106+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:39:22.107+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:39:22.137+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:39:22.263+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:39:22.265+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:39:22.268+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:39:22.269+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:39:22.270+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:39:22.273+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:39:22.285+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.289+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.292+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.295+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.298+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.300+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.302+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.305+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.309+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.312+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.314+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.317+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.320+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.323+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.326+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.329+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:39:22.333+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:22.334+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5 which doesn't exist yet
2019-11-29T16:39:22.343+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5 which now exists
2019-11-29T16:39:22.345+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2]
2019-11-29T16:39:22.346+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:39:22.352+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:39:22.356+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:39:22.360+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:22.364+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_2
2019-11-29T16:39:22.366+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:39:22.367+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:39:22.367+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(5)
2019-11-29T16:39:22.375+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_6
2019-11-29T16:39:22.380+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_5
2019-11-29T16:39:22.383+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 6 at offset: 0
2019-11-29T16:39:22.383+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 1610612736
2019-11-29T16:39:22.385+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:39:22.386+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:39:22.386+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:39:22.386+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:39:22.386+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:39:22.391+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1fff509b
2019-11-29T16:39:22.391+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1fff509b
2019-11-29T16:39:22.393+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:39:22.394+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:39:22.425+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:39:22.426+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:39:22.466+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:39:22.467+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:39:22.467+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:39:22.858+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@49d655fb
2019-11-29T16:39:22.860+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:39:22.862+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:39:22.862+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:39:22.862+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:39:22.862+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:39:22.864+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:39:22.875+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:39:22.876+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:39:22.877+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:39:22.878+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:39:22.882+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":6,"nodes":[]}
2019-11-29T16:39:22.901+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:39:22.901+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:39:22.903+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:39:22.903+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:43:39.743+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:43:39.744+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:39.744+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:43:39.752+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:43:39.752+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:43:40.423+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:43:40.426+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:43:40.427+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:43:40.428+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:43:40.429+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:43:40.430+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:43:40.454+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:43:40.691+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:43:40.694+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:43:40.712+00:00 INFO CBAS.cbas nodeConfigMap: map[analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 ccAnalyticsMetadataPartitionId:0 replicationStrategy:metadata logDir:/opt/couchbase/var/lib/couchbase/logs metadataCallbackPort:9119 analyticsHttpAdminListenPort:9110 cbasPort:9122 ccClientListenPort:9113 clusterAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 ccAddress:0.0.0.0 messagingListenPort:9118 metadataNode:1261062758c5b045ef2ab47d2962b13c txnLogBufferPagesize:262144 nsServerPort:8091 startingPartitionId:0 address:0.0.0.0 ccConsoleListenPort:9114 dataListenPort:9116 ncservicePort:-1 nsServerAddress:127.0.0.1 analyticsHttpsListenPort:18095 cbasAddress:127.0.0.1 clusterPort:9112 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] replicationFactor:4096 ccPublicAddress:127.0.0.1 metadataListenPort:9121 publicAddress:127.0.0.1 analyticsCbHome:/opt/couchbase ccAnalyticsHttpListenPort:9111 ccControllerId:0 ccHeartbeatMaxMisses:4 ccHeartbeatPeriod:30000 resultListenPort:9117 additionalCcNodes:[] analyticsSslEnabled:true replicationLogBufferPagesize:262144 replicationListenPort:9120 analyticsNodeName:127.0.0.1:8091 ccClusterListenPort:9112 clusterListenPort:9115 initialRun:false replicationEnabled:true]
2019-11-29T16:43:40.724+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:43:40.725+00:00 INFO CBAS.cbas analytics driver is running; pid: 386
2019-11-29T16:43:43.217+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:43:43.225+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:43:44.067+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:43:44.109+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:43:44.497+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:43:44.558+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:43:44.572+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:43:44.611+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:44.618+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"386","tid":1,"ts":1575045824618089,"s":"p","args":{"datetime":"2019-11-29T16:43:44.616Z"}}
2019-11-29T16:43:44.619+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:43:44.621+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:43:44.658+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:43:44.664+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:44.667+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:43:44.669+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:43:44.673+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:43:44.679+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:43:44.730+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:43:44.736+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:43:44.741+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:43:44.744+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:44.745+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:44.751+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:44.756+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:44.780+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 6 at offset: 0
2019-11-29T16:43:44.782+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 1610612736
2019-11-29T16:43:44.793+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:43:44.796+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:44.797+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:44.804+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:44.809+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:44.844+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:43:44.848+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:44.849+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:44.857+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:44.865+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:44.870+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:43:44.872+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:44.873+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:44.878+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:44.884+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:44.891+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:43:44.893+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:44.894+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:43:46.046+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:43:46.055+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:43:46.133+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:46.139+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:46.141+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:43:46.142+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:43:46.143+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:46.145+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:43:46.147+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:43:46.226+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:43:46.228+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:43:46.238+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:43:46.263+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:43:46.270+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:43:47.449+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T16:43:47.472+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:43:47.472+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:43:47.476+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:43:47.476+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:43:47.478+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:47.479+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:47.478+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:43:47.483+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:43:47.483+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":6,"nodes":[]}
2019-11-29T16:43:47.486+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:43:47.487+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:43:47.490+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:47.496+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:47.535+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@289d9d33
2019-11-29T16:43:47.536+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:43:47.562+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@25c451c9
2019-11-29T16:43:47.563+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:43:47.563+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:43:47.564+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:43:47.574+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:43:47.574+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:43:47.578+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:43:47.584+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:47.585+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:47.585+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:43:47.591+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:47.595+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:47.605+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:43:47.640+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:43:47.658+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:43:47.660+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:43:47.671+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:43:47.799+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:43:47.799+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:43:47.799+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:43:47.799+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:43:47.826+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:43:47.867+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:43:47.914+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:43:47.974+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:43:48.021+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:43:48.062+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:43:48.085+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:43:48.128+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:43:48.154+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:43:48.195+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:43:48.217+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:43:48.253+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:43:48.273+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:43:48.296+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:43:48.368+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:43:48.515+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:43:48.516+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:43:48.545+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:43:48.641+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:43:48.642+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:43:48.642+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:43:48.642+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:43:48.643+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:43:48.643+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:43:48.646+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.650+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.653+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.656+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.659+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.662+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.665+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.669+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.672+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.674+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.677+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.681+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.684+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.688+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.690+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.692+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:43:48.696+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:48.697+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6 which doesn't exist yet
2019-11-29T16:43:48.703+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6 which now exists
2019-11-29T16:43:48.706+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:43:48.706+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:43:48.712+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:48.717+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:43:48.722+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:43:48.726+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_3
2019-11-29T16:43:48.728+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:43:48.729+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:43:48.730+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(6)
2019-11-29T16:43:48.738+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_7
2019-11-29T16:43:48.743+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_6
2019-11-29T16:43:48.746+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 7 at offset: 0
2019-11-29T16:43:48.746+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 1879048192
2019-11-29T16:43:48.749+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:43:48.749+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:43:48.750+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:43:48.750+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:43:48.752+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:43:48.753+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@3baddd11
2019-11-29T16:43:48.754+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@3baddd11
2019-11-29T16:43:48.757+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:43:48.758+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:43:48.800+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:43:48.800+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:43:48.813+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:43:48.814+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:43:48.814+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:43:49.102+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@7735f699
2019-11-29T16:43:49.105+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:43:49.107+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:43:49.108+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:43:49.108+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:43:49.108+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:43:49.111+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:43:49.120+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:43:49.122+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:43:49.124+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:43:49.125+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:43:49.129+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":7,"nodes":[]}
2019-11-29T16:43:49.160+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:43:49.161+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:43:49.162+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:43:49.163+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:43:50.696+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":true,"multiStatement":true}
2019-11-29T16:43:50.877+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;;
2019-11-29T16:43:51.022+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:43:51.051+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:43:53.023+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T16:43:53.028+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-11-29T16:43:53.052+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T16:43:53.058+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-11-29T16:43:53.202+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: com.couchbase.analytics.messaging.ShadowingStatsRequest@3660a1c2
2019-11-29T16:43:53.205+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: com.couchbase.analytics.messaging.ShadowingStatsResponse@20491bc1
2019-11-29T16:51:02.274+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:51:02.277+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:02.277+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:51:02.284+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:51:02.284+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:51:03.323+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:51:03.325+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:51:03.327+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:51:03.328+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:51:03.329+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:51:03.330+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:51:03.352+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:51:03.690+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:51:03.696+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:51:03.705+00:00 INFO CBAS.cbas nodeConfigMap: map[clusterAddress:127.0.0.1 logDir:/opt/couchbase/var/lib/couchbase/logs analyticsNodeName:127.0.0.1:8091 ccAddress:0.0.0.0 ccHeartbeatPeriod:30000 initialRun:false publicAddress:127.0.0.1 ccConsoleListenPort:9114 clusterListenPort:9115 clusterPort:9112 metadataNode:1261062758c5b045ef2ab47d2962b13c txnLogBufferPagesize:262144 ccHeartbeatMaxMisses:4 messagingListenPort:9118 nsServerPort:8091 replicationStrategy:metadata startingPartitionId:0 ccAnalyticsMetadataPartitionId:0 ccClientListenPort:9113 ccControllerId:0 dataListenPort:9116 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] analyticsCcHttpPort:9111 analyticsSslEnabled:true ccAnalyticsHttpListenPort:9111 metadataCallbackPort:9119 ncservicePort:-1 replicationListenPort:9120 ccClusterListenPort:9112 nsServerAddress:127.0.0.1 replicationLogBufferPagesize:262144 address:0.0.0.0 analyticsCbHome:/opt/couchbase analyticsHttpsListenPort:18095 cbasAddress:127.0.0.1 cbasPort:9122 ccPublicAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 metadataListenPort:9121 additionalCcNodes:[] analyticsHttpAdminListenPort:9110 analyticsHttpListenPort:8095 replicationEnabled:true replicationFactor:4096 resultListenPort:9117]
2019-11-29T16:51:03.725+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:51:03.727+00:00 INFO CBAS.cbas analytics driver is running; pid: 395
2019-11-29T16:51:06.552+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:51:06.563+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:51:07.417+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:51:07.529+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:51:08.249+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:51:08.358+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:51:08.380+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:51:08.476+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:08.482+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"395","tid":1,"ts":1575046268482030,"s":"p","args":{"datetime":"2019-11-29T16:51:08.480Z"}}
2019-11-29T16:51:08.483+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:51:08.484+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:51:08.556+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:51:08.568+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:08.572+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:51:08.578+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:51:08.588+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:51:08.610+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:51:08.752+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:51:08.755+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:51:08.761+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:51:08.764+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:08.765+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:08.771+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:08.777+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:08.800+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 7 at offset: 0
2019-11-29T16:51:08.801+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 1879048192
2019-11-29T16:51:08.805+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:51:08.809+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:08.809+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:08.816+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:08.822+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:08.862+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:51:08.865+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:08.866+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:08.871+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:08.875+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:08.881+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:51:08.883+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:08.884+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:08.889+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:08.892+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:08.903+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:51:08.904+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:08.906+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:51:10.268+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:51:10.277+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:51:10.426+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:10.432+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:10.435+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:51:10.435+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:51:10.436+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:10.439+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:51:10.440+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:51:10.562+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:51:10.575+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:51:10.589+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:51:10.621+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:51:10.625+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:51:11.859+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T16:51:11.880+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:51:11.880+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:51:11.882+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:51:11.882+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:51:11.884+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:51:11.887+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:51:11.887+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":7,"nodes":[]}
2019-11-29T16:51:11.888+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:11.889+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:11.895+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:51:11.896+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:11.898+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:51:11.901+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:11.926+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@471a36b6
2019-11-29T16:51:11.927+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:51:11.947+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@19dc2398
2019-11-29T16:51:11.949+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:51:11.950+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:51:11.950+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:51:11.962+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:51:11.963+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:51:11.966+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:51:11.968+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:51:11.972+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:11.973+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:11.980+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:11.985+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:11.995+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:51:12.027+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:51:12.035+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:51:12.038+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:51:12.054+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:51:12.256+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:51:12.262+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:51:12.262+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:51:12.262+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:51:12.263+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:51:12.312+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:51:12.367+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:51:12.421+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:51:12.475+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:51:12.516+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:51:12.544+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:51:12.589+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:51:12.616+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:51:12.665+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:51:12.706+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:51:12.765+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:51:12.803+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:51:12.843+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:51:12.901+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:51:13.004+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:51:13.004+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:51:13.035+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:51:13.168+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:51:13.169+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:51:13.170+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:51:13.172+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:51:13.173+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:51:13.174+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:51:13.180+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.185+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.187+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.190+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.192+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.196+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.198+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.200+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.203+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.217+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.230+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.235+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.244+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.248+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.250+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.253+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:51:13.259+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:13.261+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7 which doesn't exist yet
2019-11-29T16:51:13.272+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7 which now exists
2019-11-29T16:51:13.276+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:51:13.277+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:51:13.283+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:51:13.288+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:13.295+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:51:13.305+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_4
2019-11-29T16:51:13.310+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:51:13.316+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:51:13.317+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(7)
2019-11-29T16:51:13.327+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_8
2019-11-29T16:51:13.334+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_7
2019-11-29T16:51:13.341+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 8 at offset: 0
2019-11-29T16:51:13.343+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 2147483648
2019-11-29T16:51:13.346+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:51:13.349+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:51:13.350+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:51:13.352+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:51:13.353+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:51:13.356+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@60385631
2019-11-29T16:51:13.356+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@60385631
2019-11-29T16:51:13.365+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:51:13.366+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:51:13.435+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:51:13.439+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:51:13.476+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:51:13.477+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:51:13.477+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:51:13.940+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@1728fa36
2019-11-29T16:51:13.943+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:51:13.947+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:51:13.948+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:51:13.949+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:51:13.950+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:51:13.952+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:51:13.960+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:51:13.962+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:51:13.963+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:51:13.964+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:51:13.968+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":8,"nodes":[]}
2019-11-29T16:51:14.000+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:51:14.001+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:51:14.003+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:51:14.003+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:51:14.415+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":true,"multiStatement":true}
2019-11-29T16:51:14.494+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;;
2019-11-29T16:51:14.702+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:51:14.721+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:51:16.532+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T16:51:16.559+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T16:51:16.569+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-11-29T16:51:16.577+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-11-29T16:51:16.746+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: com.couchbase.analytics.messaging.ShadowingStatsRequest@61a65995
2019-11-29T16:51:16.753+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: com.couchbase.analytics.messaging.ShadowingStatsResponse@eeaedc2
2019-11-29T16:52:13.971+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-1] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:52:13.982+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=4, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:52:14.251+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.3
2019-11-29T16:52:14.261+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=4): 53 characters
2019-11-29T16:58:27.089+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-11-29T16:58:27.090+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:27.090+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-11-29T16:58:27.100+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-11-29T16:58:27.101+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-11-29T16:58:27.374+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:58:27.375+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:58:27.376+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:58:27.378+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:58:27.378+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-11-29T16:58:27.384+00:00 INFO CBAS.cbas audit: created new audit service
2019-11-29T16:58:27.395+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-11-29T16:58:27.643+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-11-29T16:58:27.647+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-11-29T16:58:27.655+00:00 INFO CBAS.cbas nodeConfigMap: map[analyticsCcHttpPort:9111 analyticsHttpsListenPort:18095 analyticsSslEnabled:true clusterListenPort:9115 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] analyticsCbHome:/opt/couchbase ccHeartbeatMaxMisses:4 ncservicePort:-1 replicationEnabled:true replicationFactor:4096 resultListenPort:9117 analyticsHttpAdminListenPort:9110 ccAnalyticsMetadataPartitionId:0 ccClientListenPort:9113 ccPublicAddress:127.0.0.1 logDir:/opt/couchbase/var/lib/couchbase/logs metadataNode:1261062758c5b045ef2ab47d2962b13c replicationLogBufferPagesize:262144 analyticsNodeName:127.0.0.1:8091 ccAnalyticsHttpListenPort:9111 initialRun:false messagingListenPort:9118 replicationStrategy:metadata txnLogBufferPagesize:262144 additionalCcNodes:[] address:0.0.0.0 ccClusterListenPort:9112 ccHeartbeatPeriod:30000 clusterPort:9112 nsServerPort:8091 startingPartitionId:0 cbasAddress:127.0.0.1 ccConsoleListenPort:9114 ccControllerId:0 clusterAddress:127.0.0.1 metadataCallbackPort:9119 publicAddress:127.0.0.1 analyticsHttpListenPort:8095 cbasPort:9122 ccAddress:0.0.0.0 dataListenPort:9116 nsServerAddress:127.0.0.1 metadataListenPort:9121 replicationListenPort:9120]
2019-11-29T16:58:27.663+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-11-29T16:58:27.664+00:00 INFO CBAS.cbas analytics driver is running; pid: 386
2019-11-29T16:58:29.941+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:58:29.956+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-11-29T16:58:30.725+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-11-29T16:58:30.761+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-11-29T16:58:31.140+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-11-29T16:58:31.197+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-11-29T16:58:31.216+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-11-29T16:58:31.277+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:31.284+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"386","tid":1,"ts":1575046711284014,"s":"p","args":{"datetime":"2019-11-29T16:58:31.282Z"}}
2019-11-29T16:58:31.286+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-11-29T16:58:31.287+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-11-29T16:58:31.342+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-11-29T16:58:31.346+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:31.347+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-11-29T16:58:31.349+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-11-29T16:58:31.351+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-11-29T16:58:31.357+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-11-29T16:58:31.408+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-11-29T16:58:31.414+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-11-29T16:58:31.417+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:58:31.420+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:31.420+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:31.450+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:31.457+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:31.481+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 8 at offset: 0
2019-11-29T16:58:31.482+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 2147483648
2019-11-29T16:58:31.490+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:58:31.493+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:31.494+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:31.498+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:31.502+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:31.542+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:58:31.546+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:31.547+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:31.552+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:31.557+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:31.561+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-11-29T16:58:31.563+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:31.564+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:31.570+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:31.573+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:31.581+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-11-29T16:58:31.581+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:31.582+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-11-29T16:58:32.677+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-11-29T16:58:32.688+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-11-29T16:58:32.774+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:32.782+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:32.784+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-11-29T16:58:32.785+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-11-29T16:58:32.787+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:32.788+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-11-29T16:58:32.790+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-11-29T16:58:32.866+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-11-29T16:58:32.868+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-11-29T16:58:32.868+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-11-29T16:58:32.881+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-11-29T16:58:32.883+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-11-29T16:58:34.912+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-11-29T16:58:34.934+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-11-29T16:58:34.934+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:58:34.936+00:00 INFO CBAS.cbas starting coordinator
2019-11-29T16:58:34.937+00:00 INFO CBAS.cbas Starting replicas monitor
2019-11-29T16:58:34.937+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-11-29T16:58:34.939+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-11-29T16:58:34.941+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-11-29T16:58:34.941+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":8,"nodes":[]}
2019-11-29T16:58:34.942+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-11-29T16:58:34.949+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:34.949+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:34.956+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:34.960+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:34.988+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@2ad2dfbc
2019-11-29T16:58:34.989+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-11-29T16:58:35.015+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@7f2260e2
2019-11-29T16:58:35.017+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:58:35.018+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:58:35.018+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:58:35.024+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-11-29T16:58:35.025+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:58:35.027+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-11-29T16:58:35.026+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-11-29T16:58:35.032+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:35.032+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:35.036+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:35.041+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:35.051+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-11-29T16:58:35.094+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-11-29T16:58:35.107+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-11-29T16:58:35.113+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-11-29T16:58:35.126+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-11-29T16:58:35.271+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-11-29T16:58:35.272+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-11-29T16:58:35.272+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-11-29T16:58:35.272+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-11-29T16:58:35.384+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-11-29T16:58:35.469+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-11-29T16:58:35.533+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-11-29T16:58:35.589+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-11-29T16:58:35.638+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-11-29T16:58:35.686+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-11-29T16:58:35.714+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-11-29T16:58:35.781+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-11-29T16:58:35.811+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-11-29T16:58:35.860+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-11-29T16:58:35.884+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-11-29T16:58:35.924+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-11-29T16:58:35.957+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-11-29T16:58:35.983+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-11-29T16:58:36.042+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-11-29T16:58:36.188+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-11-29T16:58:36.190+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-11-29T16:58:36.225+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-11-29T16:58:36.348+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-11-29T16:58:36.349+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-11-29T16:58:36.349+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:58:36.349+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-11-29T16:58:36.350+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-11-29T16:58:36.350+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-11-29T16:58:36.353+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.356+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.358+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.361+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.363+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.364+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.367+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.369+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.372+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.375+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.377+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.379+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.380+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.383+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.385+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.387+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-11-29T16:58:36.391+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:36.392+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8 which doesn't exist yet
2019-11-29T16:58:36.400+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8 which now exists
2019-11-29T16:58:36.402+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5]
2019-11-29T16:58:36.402+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-11-29T16:58:36.416+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-11-29T16:58:36.421+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-11-29T16:58:36.426+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:36.447+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_5
2019-11-29T16:58:36.453+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-11-29T16:58:36.455+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-11-29T16:58:36.455+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(8)
2019-11-29T16:58:36.476+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_9
2019-11-29T16:58:36.481+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_8
2019-11-29T16:58:36.490+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 9 at offset: 0
2019-11-29T16:58:36.491+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 2415919104
2019-11-29T16:58:36.493+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-11-29T16:58:36.494+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-11-29T16:58:36.494+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:58:36.495+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-11-29T16:58:36.496+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-11-29T16:58:36.497+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1719e7b7
2019-11-29T16:58:36.497+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1719e7b7
2019-11-29T16:58:36.499+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-11-29T16:58:36.500+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:58:36.533+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-11-29T16:58:36.533+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:58:36.553+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-11-29T16:58:36.554+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:58:36.554+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-11-29T16:58:37.019+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@72749dfc
2019-11-29T16:58:37.021+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-11-29T16:58:37.024+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-11-29T16:58:37.024+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-11-29T16:58:37.025+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-11-29T16:58:37.025+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-11-29T16:58:37.027+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-11-29T16:58:37.038+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-11-29T16:58:37.040+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-11-29T16:58:37.042+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-11-29T16:58:37.042+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-11-29T16:58:37.051+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":9,"nodes":[]}
2019-11-29T16:58:37.126+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-11-29T16:58:37.126+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-11-29T16:58:37.128+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-11-29T16:58:37.128+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-11-29T16:59:06.381+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:59:06.439+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:59:07.975+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-11-29T16:59:07.991+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-11-29T16:59:15.272+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-1] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:59:15.288+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:59:15.721+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-11-29T16:59:15.729+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-11-29T16:59:29.726+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-2] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T16:59:29.748+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=3, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T16:59:30.176+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.3
2019-11-29T16:59:30.185+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=3): 53 characters
2019-11-29T17:04:32.956+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-3] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-11-29T17:04:32.967+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: ExecuteStatementRequestMessage(id=4, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-11-29T17:04:33.292+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.4
2019-11-29T17:04:33.299+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=4): 53 characters
2019-12-02T14:02:38.009+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:02:38.012+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:38.012+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:02:38.020+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:02:38.020+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:02:38.292+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:02:38.322+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:02:38.831+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:02:38.836+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:02:38.846+00:00 INFO CBAS.cbas nodeConfigMap: map[address:0.0.0.0 analyticsHttpAdminListenPort:9110 ccAnalyticsHttpListenPort:9111 ccAnalyticsMetadataPartitionId:0 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 replicationLogBufferPagesize:262144 analyticsHttpsListenPort:18095 clusterPort:9112 dataListenPort:9116 messagingListenPort:9118 metadataNode:1261062758c5b045ef2ab47d2962b13c metadataListenPort:9121 nsServerPort:8091 analyticsSslEnabled:true cbasAddress:127.0.0.1 ccAddress:0.0.0.0 ccConsoleListenPort:9114 ccControllerId:0 initialRun:false publicAddress:127.0.0.1 replicationFactor:4096 analyticsNodeName:127.0.0.1:8091 cbasPort:9122 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] additionalCcNodes:[] ccHeartbeatMaxMisses:4 ccHeartbeatPeriod:30000 replicationEnabled:true resultListenPort:9117 startingPartitionId:0 replicationListenPort:9120 replicationStrategy:metadata analyticsCbHome:/opt/couchbase analyticsHttpListenPort:8095 ccClusterListenPort:9112 ccPublicAddress:127.0.0.1 ncservicePort:-1 nsServerAddress:127.0.0.1 txnLogBufferPagesize:262144 clusterAddress:127.0.0.1 clusterListenPort:9115 logDir:/opt/couchbase/var/lib/couchbase/logs metadataCallbackPort:9119 analyticsCcHttpPort:9111 ccClientListenPort:9113]
2019-12-02T14:02:38.864+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:02:38.866+00:00 INFO CBAS.cbas analytics driver is running; pid: 368
2019-12-02T14:02:43.519+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:02:43.536+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:02:45.677+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:02:45.781+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:02:46.541+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:02:46.662+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:02:46.683+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:02:46.774+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:46.785+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"368","tid":1,"ts":1575295366784051,"s":"p","args":{"datetime":"2019-12-02T14:02:46.782Z"}}
2019-12-02T14:02:46.785+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:02:46.786+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:02:46.875+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:02:46.883+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:46.886+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:02:46.888+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:02:46.891+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:02:46.900+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:02:46.996+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:02:47.007+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:02:47.012+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:02:47.016+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:47.018+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:47.024+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:47.029+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:47.059+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 9 at offset: 0
2019-12-02T14:02:47.060+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 2415919104
2019-12-02T14:02:47.070+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:02:47.073+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:47.074+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:47.078+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:47.083+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:47.140+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:02:47.146+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:47.148+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:47.153+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:47.158+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:47.163+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:02:47.165+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:47.166+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:47.169+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:47.174+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:47.181+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:02:47.181+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:47.183+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:02:48.272+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:02:48.285+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:02:48.384+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:48.396+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:48.400+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:02:48.402+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:02:48.411+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:48.415+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:02:48.419+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:02:48.540+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:02:48.544+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:02:48.550+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:02:48.558+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:02:48.560+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:02:50.284+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:02:50.312+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:02:50.312+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:02:50.317+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:02:50.317+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:50.317+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:02:50.317+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:50.323+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:02:50.324+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":9,"nodes":[]}
2019-12-02T14:02:50.326+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:50.318+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:02:50.334+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:02:50.334+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:50.339+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:02:50.384+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@44913c04
2019-12-02T14:02:50.387+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:02:50.417+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@73ae415c
2019-12-02T14:02:50.420+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:02:50.421+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:02:50.422+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:02:50.425+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:02:50.425+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:02:50.429+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:02:50.434+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:50.435+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:50.443+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:50.449+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:50.451+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:02:50.462+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:02:50.511+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:02:50.521+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:02:50.524+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:02:50.541+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:02:50.980+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:02:51.037+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:02:51.037+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:02:51.037+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:02:51.037+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:02:51.071+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:02:51.141+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:02:51.209+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:02:51.271+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:02:51.325+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:02:51.364+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:02:51.487+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:02:51.517+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:02:51.572+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:02:51.616+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:02:51.668+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:02:51.696+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:02:51.723+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:02:51.871+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:02:52.004+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:02:52.005+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:02:52.038+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:02:52.151+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:02:52.151+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:02:52.152+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:02:52.152+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:02:52.153+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:02:52.153+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:02:52.159+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.164+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.166+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.168+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.170+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.172+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.174+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.176+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.178+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.180+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.182+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.184+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.187+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.189+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.191+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.193+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:02:52.199+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:52.200+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9 which doesn't exist yet
2019-12-02T14:02:52.211+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9 which now exists
2019-12-02T14:02:52.213+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6]
2019-12-02T14:02:52.214+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:02:52.217+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:02:52.221+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:02:52.224+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:52.228+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_6
2019-12-02T14:02:52.233+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:02:52.236+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:02:52.236+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(9)
2019-12-02T14:02:52.243+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_10
2019-12-02T14:02:52.248+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_9
2019-12-02T14:02:52.253+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 10 at offset: 0
2019-12-02T14:02:52.253+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 2684354560
2019-12-02T14:02:52.255+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:02:52.255+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:02:52.256+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:02:52.256+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:02:52.257+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:02:52.258+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@8b40cf9
2019-12-02T14:02:52.258+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@8b40cf9
2019-12-02T14:02:52.261+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:02:52.262+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:02:52.302+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:02:52.303+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:02:52.325+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:02:52.325+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:02:52.326+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:02:52.821+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@4af4e7
2019-12-02T14:02:52.824+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:02:52.828+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:02:52.828+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:02:52.829+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:02:52.829+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:02:52.833+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:02:52.858+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:02:52.869+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:02:52.873+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:02:52.875+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:02:52.886+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":10,"nodes":[]}
2019-12-02T14:02:52.934+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:02:52.936+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:02:52.950+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:02:52.950+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T14:05:25.826+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:05:25.829+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:25.829+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:05:25.838+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:05:25.838+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:05:26.803+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:05:26.816+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:05:26.822+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:05:26.827+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:05:26.834+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:05:26.836+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:05:26.870+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:05:27.339+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:05:27.344+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:05:27.354+00:00 INFO CBAS.cbas nodeConfigMap: map[dataListenPort:9116 metadataListenPort:9121 replicationEnabled:true analyticsNodeName:127.0.0.1:8091 cbasPort:9122 ccAnalyticsMetadataPartitionId:0 clusterListenPort:9115 clusterPort:9112 ccAddress:0.0.0.0 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] metadataCallbackPort:9119 messagingListenPort:9118 ncservicePort:-1 nsServerAddress:127.0.0.1 additionalCcNodes:[] address:0.0.0.0 analyticsHttpListenPort:8095 cbasAddress:127.0.0.1 initialRun:false replicationFactor:4096 resultListenPort:9117 startingPartitionId:0 analyticsHttpAdminListenPort:9110 ccHeartbeatPeriod:30000 replicationLogBufferPagesize:262144 analyticsHttpsListenPort:18095 ccClusterListenPort:9112 clusterAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 nsServerPort:8091 logDir:/opt/couchbase/var/lib/couchbase/logs txnLogBufferPagesize:262144 analyticsCcHttpPort:9111 analyticsSslEnabled:true ccClientListenPort:9113 ccConsoleListenPort:9114 ccPublicAddress:127.0.0.1 analyticsCbHome:/opt/couchbase metadataNode:1261062758c5b045ef2ab47d2962b13c replicationStrategy:metadata ccAnalyticsHttpListenPort:9111 ccControllerId:0 ccHeartbeatMaxMisses:4 publicAddress:127.0.0.1 replicationListenPort:9120]
2019-12-02T14:05:27.373+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:05:27.376+00:00 INFO CBAS.cbas analytics driver is running; pid: 394
2019-12-02T14:05:30.795+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:05:30.806+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:05:32.172+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:05:32.227+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:05:32.815+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:05:32.950+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:05:32.974+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:05:33.055+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:33.062+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"394","tid":1,"ts":1575295533061072,"s":"p","args":{"datetime":"2019-12-02T14:05:33.059Z"}}
2019-12-02T14:05:33.063+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:05:33.065+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:05:33.142+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:05:33.147+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:33.151+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:05:33.153+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:05:33.158+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:05:33.168+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:05:33.256+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:05:33.261+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:05:33.264+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:05:33.267+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:33.268+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:33.276+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:33.283+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:33.340+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 10 at offset: 0
2019-12-02T14:05:33.342+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 2684354560
2019-12-02T14:05:33.357+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:05:33.365+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:33.368+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:33.381+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:33.387+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:33.470+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:05:33.474+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:33.475+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:33.481+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:33.487+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:33.494+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:05:33.498+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:33.499+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:33.504+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:33.511+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:33.525+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:05:33.526+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:33.528+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:05:34.782+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:05:34.794+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:05:34.878+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:34.887+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:34.892+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:05:34.893+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:05:34.895+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:34.896+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:05:34.897+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:05:35.013+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:05:35.015+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:05:35.017+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:05:35.032+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:05:35.046+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:05:36.286+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:05:36.329+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:05:36.330+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:05:36.332+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:05:36.333+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:05:36.334+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:05:36.334+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:36.335+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:36.337+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:05:36.339+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:05:36.339+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:36.342+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:05:36.343+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":10,"nodes":[]}
2019-12-02T14:05:36.345+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:36.364+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@396909e6
2019-12-02T14:05:36.366+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:05:36.381+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@67625ba
2019-12-02T14:05:36.382+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:05:36.383+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:05:36.383+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:05:36.384+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:05:36.384+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:05:36.388+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:05:36.389+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:05:36.392+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:36.392+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:36.396+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:36.409+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:36.418+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:05:36.448+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:05:36.461+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:05:36.463+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:05:36.489+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:05:36.756+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:05:36.756+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:05:36.756+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:05:36.756+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:05:36.763+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:05:36.813+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:05:36.861+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:05:36.911+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:05:36.962+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:05:37.019+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:05:37.049+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:05:37.092+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:05:37.122+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:05:37.167+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:05:37.201+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:05:37.245+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:05:37.272+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:05:37.297+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:05:37.423+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:05:37.650+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:05:37.654+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:05:37.693+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:05:37.824+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:05:37.827+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:05:37.829+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:05:37.831+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:05:37.832+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:05:37.834+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:05:37.841+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.847+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.849+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.852+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.855+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.857+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.860+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.864+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.867+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.870+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.873+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.877+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.880+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.883+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.887+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.891+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:05:37.895+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8]
2019-12-02T14:05:37.898+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10 which doesn't exist yet
2019-12-02T14:05:37.909+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10 which now exists
2019-12-02T14:05:37.913+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:05:37.915+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:37.922+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:05:37.926+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:05:37.935+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:05:37.940+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_7
2019-12-02T14:05:37.943+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:05:37.948+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:05:37.948+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(10)
2019-12-02T14:05:37.958+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_11
2019-12-02T14:05:37.963+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_10
2019-12-02T14:05:37.967+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 11 at offset: 0
2019-12-02T14:05:37.971+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 2952790016
2019-12-02T14:05:37.973+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:05:37.974+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:05:37.974+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:05:37.976+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:05:37.976+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:05:37.979+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@72297dc5
2019-12-02T14:05:37.981+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@72297dc5
2019-12-02T14:05:37.984+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:05:37.985+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:05:38.020+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:05:38.021+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:05:38.045+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:05:38.047+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:05:38.047+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:05:38.345+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@3752b27a
2019-12-02T14:05:38.348+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:05:38.351+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:05:38.351+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:05:38.352+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:05:38.352+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:05:38.356+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:05:38.365+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:05:38.368+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:05:38.370+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:05:38.372+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:05:38.378+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":11,"nodes":[]}
2019-12-02T14:05:38.437+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:05:38.443+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:05:38.447+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:05:38.447+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T14:06:14.451+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:06:14.454+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:14.454+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:06:14.463+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:06:14.463+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:06:15.024+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:06:15.027+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:06:15.030+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:06:15.031+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:06:15.034+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:06:15.036+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:06:15.052+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:06:15.312+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:06:15.323+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:06:15.339+00:00 INFO CBAS.cbas nodeConfigMap: map[address:0.0.0.0 analyticsHttpAdminListenPort:9110 clusterAddress:127.0.0.1 ncservicePort:-1 analyticsCcHttpPort:9111 ccAnalyticsHttpListenPort:9111 ccControllerId:0 ccHeartbeatMaxMisses:4 ccPublicAddress:127.0.0.1 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] logDir:/opt/couchbase/var/lib/couchbase/logs analyticsHttpListenPort:8095 analyticsHttpsListenPort:18095 analyticsSslEnabled:true ccAnalyticsMetadataPartitionId:0 clusterListenPort:9115 clusterPort:9112 messagingListenPort:9118 publicAddress:127.0.0.1 additionalCcNodes:[] cbasAddress:127.0.0.1 dataListenPort:9116 initialRun:false txnLogBufferPagesize:262144 cbasPort:9122 ccAddress:0.0.0.0 ccClientListenPort:9113 ccConsoleListenPort:9114 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 nsServerPort:8091 resultListenPort:9117 analyticsCbHome:/opt/couchbase metadataListenPort:9121 replicationEnabled:true replicationListenPort:9120 replicationLogBufferPagesize:262144 ccClusterListenPort:9112 metadataCallbackPort:9119 analyticsNodeName:127.0.0.1:8091 ccHeartbeatPeriod:30000 metadataNode:1261062758c5b045ef2ab47d2962b13c nsServerAddress:127.0.0.1 replicationFactor:4096 replicationStrategy:metadata startingPartitionId:0]
2019-12-02T14:06:15.378+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:06:15.392+00:00 INFO CBAS.cbas analytics driver is running; pid: 388
2019-12-02T14:06:18.379+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:06:18.417+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:06:19.990+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:06:20.051+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:06:20.575+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:06:20.688+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:06:20.708+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:06:20.784+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:20.789+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"388","tid":1,"ts":1575295580789040,"s":"p","args":{"datetime":"2019-12-02T14:06:20.787Z"}}
2019-12-02T14:06:20.790+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:06:20.790+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:06:20.867+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:06:20.872+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:20.872+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:06:20.873+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:06:20.875+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:06:20.885+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:06:20.966+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:06:20.971+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:06:20.976+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:06:20.980+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:20.980+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:20.988+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:20.997+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:21.034+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 11 at offset: 0
2019-12-02T14:06:21.035+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 2952790016
2019-12-02T14:06:21.041+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:06:21.050+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:21.050+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:21.057+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:21.063+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:21.133+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:06:21.138+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:21.141+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:21.149+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:21.156+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:21.162+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:06:21.165+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:21.167+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:21.176+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:21.183+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:21.195+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:06:21.199+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:21.200+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:06:22.813+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:06:22.823+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:06:22.920+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:22.934+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:22.941+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:06:22.948+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:06:22.950+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:22.953+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:06:22.959+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:06:23.074+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:06:23.077+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:06:23.079+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:06:23.123+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:06:23.124+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:06:24.624+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:06:24.657+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:06:24.657+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:06:24.661+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:24.662+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:24.663+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:06:24.664+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:06:24.667+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:06:24.667+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":11,"nodes":[]}
2019-12-02T14:06:24.665+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:06:24.670+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:24.674+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:06:24.674+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:24.679+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:06:24.711+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@41ceb986
2019-12-02T14:06:24.715+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:06:24.752+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@8a147ae
2019-12-02T14:06:24.754+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:06:24.754+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:06:24.755+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:06:24.755+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:06:24.756+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:06:24.762+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:06:24.767+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:24.767+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:24.769+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:06:24.774+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:24.779+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:24.791+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:06:24.835+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:06:24.854+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:06:24.859+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:06:24.890+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:06:25.142+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:06:25.142+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:06:25.142+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:06:25.142+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:06:25.164+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:06:25.221+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:06:25.279+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:06:25.340+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:06:25.410+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:06:25.474+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:06:25.511+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:06:25.569+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:06:25.623+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:06:25.700+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:06:25.739+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:06:25.813+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:06:25.852+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:06:25.891+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:06:26.005+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:06:26.130+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:06:26.131+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:06:26.172+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:06:26.290+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:06:26.291+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:06:26.296+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:06:26.299+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:06:26.299+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:06:26.303+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:06:26.309+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.314+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.319+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.322+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.326+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.330+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.333+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.337+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.341+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.347+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.353+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.358+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.363+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.369+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.376+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.383+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:06:26.390+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:26.393+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11 which doesn't exist yet
2019-12-02T14:06:26.410+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11 which now exists
2019-12-02T14:06:26.415+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:06:26.419+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:06:26.430+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:26.437+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:06:26.443+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:06:26.451+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_8
2019-12-02T14:06:26.456+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:06:26.462+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:06:26.465+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(11)
2019-12-02T14:06:26.491+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_12
2019-12-02T14:06:26.502+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_11
2019-12-02T14:06:26.508+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 12 at offset: 0
2019-12-02T14:06:26.510+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 3221225472
2019-12-02T14:06:26.517+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:06:26.520+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:06:26.525+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:06:26.527+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:06:26.530+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:06:26.539+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@5cd40c33
2019-12-02T14:06:26.542+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@5cd40c33
2019-12-02T14:06:26.548+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:06:26.549+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:06:26.636+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:06:26.639+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:06:26.669+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:06:26.671+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:06:26.672+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:06:27.083+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@596f07f
2019-12-02T14:06:27.086+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:06:27.088+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:06:27.089+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:06:27.089+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:06:27.089+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:06:27.093+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:06:27.114+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:06:27.116+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:06:27.118+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:06:27.118+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:06:27.128+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":12,"nodes":[]}
2019-12-02T14:06:27.178+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:06:27.179+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:06:27.185+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T14:06:27.185+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:13:57.278+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:13:57.281+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:13:57.281+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:13:57.293+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:13:57.293+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:13:58.385+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:13:58.388+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:13:58.390+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:13:58.393+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:13:58.396+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:13:58.397+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:13:58.455+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:13:58.813+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:13:58.819+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:13:58.828+00:00 INFO CBAS.cbas nodeConfigMap: map[publicAddress:127.0.0.1 replicationEnabled:true additionalCcNodes:[] ccClientListenPort:9113 ccClusterListenPort:9112 ccPublicAddress:127.0.0.1 ncservicePort:-1 analyticsCcHttpPort:9111 analyticsHttpListenPort:8095 analyticsNodeName:127.0.0.1:8091 metadataNode:1261062758c5b045ef2ab47d2962b13c analyticsHttpAdminListenPort:9110 ccHeartbeatMaxMisses:4 clusterPort:9112 dataListenPort:9116 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] replicationLogBufferPagesize:262144 resultListenPort:9117 analyticsSslEnabled:true defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 metadataCallbackPort:9119 nsServerAddress:127.0.0.1 nsServerPort:8091 metadataListenPort:9121 replicationListenPort:9120 startingPartitionId:0 analyticsCbHome:/opt/couchbase ccAnalyticsMetadataPartitionId:0 initialRun:false logDir:/opt/couchbase/var/lib/couchbase/logs messagingListenPort:9118 ccAnalyticsHttpListenPort:9111 ccControllerId:0 clusterAddress:127.0.0.1 clusterListenPort:9115 cbasAddress:127.0.0.1 ccConsoleListenPort:9114 replicationFactor:4096 replicationStrategy:metadata txnLogBufferPagesize:262144 address:0.0.0.0 analyticsHttpsListenPort:18095 cbasPort:9122 ccAddress:0.0.0.0 ccHeartbeatPeriod:30000]
2019-12-02T14:13:58.838+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:13:58.839+00:00 INFO CBAS.cbas analytics driver is running; pid: 390
2019-12-02T14:14:02.504+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:14:02.525+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:14:04.332+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:14:04.399+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:14:04.944+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:14:05.086+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:14:05.106+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:14:05.183+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:05.189+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"390","tid":1,"ts":1575296045189047,"s":"p","args":{"datetime":"2019-12-02T14:14:05.187Z"}}
2019-12-02T14:14:05.190+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:14:05.192+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:14:05.272+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:14:05.277+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:05.278+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:14:05.279+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:14:05.282+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:14:05.294+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:14:05.388+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:14:05.395+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:14:05.399+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:14:05.404+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:05.405+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:05.419+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:05.430+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:05.467+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 12 at offset: 0
2019-12-02T14:14:05.468+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 3221225472
2019-12-02T14:14:05.477+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:14:05.491+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:05.494+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:05.501+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:05.510+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:05.579+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:14:05.586+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:05.587+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:05.593+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:05.597+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:05.601+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:14:05.606+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:05.607+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:05.611+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:05.616+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:05.628+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:14:05.629+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:05.630+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:14:07.143+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:14:07.163+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:14:07.290+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:07.301+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:07.307+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:14:07.310+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:14:07.311+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:07.313+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:14:07.318+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:14:07.456+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:14:07.464+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:14:07.473+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:14:07.480+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:14:07.481+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:14:09.241+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:14:09.298+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:14:09.298+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:14:09.302+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:14:09.302+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:14:09.303+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:09.306+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:09.306+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:14:09.315+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:09.320+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:14:09.320+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":12,"nodes":[]}
2019-12-02T14:14:09.320+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:09.316+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:14:09.329+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:14:09.367+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@50b38144
2019-12-02T14:14:09.370+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:14:09.392+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@34c0d914
2019-12-02T14:14:09.398+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:14:09.399+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:14:09.400+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:14:09.408+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:14:09.410+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:14:09.412+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:14:09.415+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:14:09.417+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:09.418+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:09.424+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:09.428+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:09.443+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:14:09.473+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:14:09.483+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:14:09.486+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:14:09.496+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:14:09.785+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:14:09.785+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:14:09.785+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:14:09.786+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:14:09.852+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:14:09.911+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:14:10.074+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:14:10.141+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:14:10.222+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:14:10.319+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:14:10.371+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:14:10.440+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:14:10.479+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:14:10.549+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:14:10.586+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:14:10.649+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:14:10.689+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:14:10.736+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:14:10.839+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:14:11.037+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:14:11.049+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:14:11.083+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:14:11.216+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:14:11.230+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:14:11.233+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:14:11.233+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:14:11.234+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:14:11.234+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:14:11.239+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.242+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.245+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.248+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.251+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.253+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.255+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.257+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.262+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.265+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.271+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.276+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.278+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.282+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.286+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.288+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:14:11.294+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:11.295+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12 which doesn't exist yet
2019-12-02T14:14:11.317+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12 which now exists
2019-12-02T14:14:11.322+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:14:11.325+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:11.334+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:14:11.339+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:14:11.346+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:14:11.350+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_9
2019-12-02T14:14:11.353+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:14:11.361+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:14:11.361+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(12)
2019-12-02T14:14:11.374+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_13
2019-12-02T14:14:11.382+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_12
2019-12-02T14:14:11.394+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 13 at offset: 0
2019-12-02T14:14:11.395+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 3489660928
2019-12-02T14:14:11.398+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:14:11.399+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:14:11.401+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:14:11.404+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:14:11.405+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:14:11.408+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@671b6340
2019-12-02T14:14:11.409+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@671b6340
2019-12-02T14:14:11.412+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:14:11.413+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:14:11.441+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:14:11.442+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:14:11.465+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:14:11.465+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:14:11.465+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:14:11.988+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@3d02ec44
2019-12-02T14:14:11.991+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:14:11.995+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:14:11.995+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:14:11.995+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:14:11.996+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:14:12.000+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:14:12.013+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:14:12.016+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:14:12.017+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:14:12.018+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:14:12.024+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":13,"nodes":[]}
2019-12-02T14:14:12.054+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:14:12.055+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:14:12.056+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T14:14:12.059+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:21:53.383+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:21:53.386+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:21:53.386+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:21:53.395+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:21:53.395+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:21:54.375+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:21:54.384+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:21:54.387+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:21:54.388+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:21:54.389+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:21:54.392+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:21:54.416+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:21:54.676+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:21:54.685+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:21:54.707+00:00 INFO CBAS.cbas nodeConfigMap: map[replicationFactor:4096 replicationListenPort:9120 additionalCcNodes:[] analyticsSslEnabled:true ccPublicAddress:127.0.0.1 clusterPort:9112 nsServerPort:8091 dataListenPort:9116 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 metadataListenPort:9121 analyticsCcHttpPort:9111 analyticsNodeName:127.0.0.1:8091 cbasAddress:127.0.0.1 ccHeartbeatPeriod:30000 clusterListenPort:9115 cbasPort:9122 resultListenPort:9117 ccAddress:0.0.0.0 ccAnalyticsMetadataPartitionId:0 ccClientListenPort:9113 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] metadataCallbackPort:9119 metadataNode:1261062758c5b045ef2ab47d2962b13c replicationLogBufferPagesize:262144 publicAddress:127.0.0.1 replicationStrategy:metadata analyticsCbHome:/opt/couchbase analyticsHttpsListenPort:18095 ccClusterListenPort:9112 clusterAddress:127.0.0.1 ncservicePort:-1 startingPartitionId:0 analyticsHttpListenPort:8095 ccConsoleListenPort:9114 ccControllerId:0 ccHeartbeatMaxMisses:4 replicationEnabled:true messagingListenPort:9118 nsServerAddress:127.0.0.1 txnLogBufferPagesize:262144 address:0.0.0.0 analyticsHttpAdminListenPort:9110 ccAnalyticsHttpListenPort:9111 initialRun:false logDir:/opt/couchbase/var/lib/couchbase/logs]
2019-12-02T14:21:54.732+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:21:54.733+00:00 INFO CBAS.cbas analytics driver is running; pid: 394
2019-12-02T14:21:58.671+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:21:58.695+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:22:00.222+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:22:00.281+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:22:00.887+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:22:01.002+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:22:01.025+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:22:01.107+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:01.119+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"394","tid":1,"ts":1575296521119054,"s":"p","args":{"datetime":"2019-12-02T14:22:01.116Z"}}
2019-12-02T14:22:01.120+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:22:01.120+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:22:01.185+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:22:01.192+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:01.196+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:22:01.197+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:22:01.200+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:22:01.216+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:22:01.325+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:22:01.334+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:22:01.338+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:22:01.341+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:01.342+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:01.351+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:01.357+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:01.392+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 13 at offset: 0
2019-12-02T14:22:01.395+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 3489660928
2019-12-02T14:22:01.421+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:22:01.427+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:01.428+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:01.436+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:01.444+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:01.554+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:22:01.557+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:01.558+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:01.565+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:01.570+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:01.576+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:22:01.579+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:01.580+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:01.584+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:01.589+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:01.599+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:22:01.600+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:01.602+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:22:03.064+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:22:03.086+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:22:03.181+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:03.188+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:03.189+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:22:03.190+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:22:03.191+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:03.192+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:22:03.193+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:22:03.316+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:22:03.317+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:22:03.317+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:22:03.326+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:22:03.338+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:22:04.741+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:22:04.767+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:22:04.767+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:22:04.770+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:22:04.770+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:22:04.773+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:22:04.774+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:22:04.774+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":13,"nodes":[]}
2019-12-02T14:22:04.774+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:04.775+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:04.778+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:22:04.779+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:22:04.784+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:04.792+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:04.821+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@42cc0109
2019-12-02T14:22:04.825+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:22:04.861+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@27ad04f3
2019-12-02T14:22:04.864+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:22:04.864+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:22:04.865+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:22:04.867+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:22:04.868+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:22:04.868+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:22:04.871+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:22:04.877+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:04.878+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:04.883+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:04.889+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:04.898+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:22:04.952+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:22:04.993+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:22:04.999+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:22:05.041+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:22:05.350+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:22:05.350+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:22:05.350+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:22:05.350+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:22:05.442+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:22:05.537+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:22:05.714+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:22:05.805+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:22:05.886+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:22:06.002+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:22:06.039+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:22:06.126+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:22:06.188+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:22:06.280+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:22:06.329+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:22:06.426+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:22:06.462+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:22:06.509+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:22:06.598+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:22:06.728+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:22:06.729+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:22:06.759+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:22:06.843+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:22:06.844+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:22:06.845+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:22:06.846+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:22:06.847+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:22:06.848+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:22:06.851+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.854+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.856+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.858+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.860+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.862+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.864+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.866+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.868+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.870+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.872+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.874+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.876+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.877+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.879+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.881+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:22:06.885+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:06.886+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13 which doesn't exist yet
2019-12-02T14:22:06.895+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13 which now exists
2019-12-02T14:22:06.897+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10]
2019-12-02T14:22:06.898+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:22:06.903+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:22:06.908+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:22:06.912+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:06.917+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_10
2019-12-02T14:22:06.919+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:22:06.921+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:22:06.922+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(13)
2019-12-02T14:22:06.931+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_14
2019-12-02T14:22:06.938+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_13
2019-12-02T14:22:06.939+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 14 at offset: 0
2019-12-02T14:22:06.940+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 3758096384
2019-12-02T14:22:06.941+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:22:06.942+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:22:06.942+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:22:06.942+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:22:06.943+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:22:06.944+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@22047ac4
2019-12-02T14:22:06.944+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@22047ac4
2019-12-02T14:22:06.947+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:22:06.948+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:22:06.984+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:22:06.984+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:22:07.002+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:22:07.003+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:22:07.004+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:22:07.437+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@3a396004
2019-12-02T14:22:07.440+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:22:07.444+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:22:07.444+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:22:07.445+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:22:07.446+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:22:07.449+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:22:07.461+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:22:07.464+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:22:07.466+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:22:07.467+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:22:07.476+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":14,"nodes":[]}
2019-12-02T14:22:07.525+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:22:07.526+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:22:07.528+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T14:22:07.529+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:45:25.894+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T14:45:25.896+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:25.896+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T14:45:25.904+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T14:45:25.905+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T14:45:26.925+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:45:26.926+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:45:26.929+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:45:26.930+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:45:26.932+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T14:45:26.933+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T14:45:26.990+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T14:45:27.416+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T14:45:27.420+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T14:45:27.429+00:00 INFO CBAS.cbas nodeConfigMap: map[ccAddress:0.0.0.0 ccAnalyticsHttpListenPort:9111 ccConsoleListenPort:9114 ccHeartbeatPeriod:30000 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] ncservicePort:-1 additionalCcNodes:[] analyticsNodeName:127.0.0.1:8091 cbasPort:9122 ccHeartbeatMaxMisses:4 publicAddress:127.0.0.1 replicationFactor:4096 analyticsCbHome:/opt/couchbase cbasAddress:127.0.0.1 clusterListenPort:9115 messagingListenPort:9118 replicationEnabled:true replicationStrategy:metadata analyticsCcHttpPort:9111 ccClientListenPort:9113 ccControllerId:0 metadataCallbackPort:9119 startingPartitionId:0 analyticsHttpsListenPort:18095 clusterAddress:127.0.0.1 initialRun:false nsServerAddress:127.0.0.1 resultListenPort:9117 analyticsHttpListenPort:8095 clusterPort:9112 dataListenPort:9116 metadataNode:1261062758c5b045ef2ab47d2962b13c nsServerPort:8091 analyticsHttpAdminListenPort:9110 ccClusterListenPort:9112 logDir:/opt/couchbase/var/lib/couchbase/logs replicationListenPort:9120 txnLogBufferPagesize:262144 ccAnalyticsMetadataPartitionId:0 analyticsSslEnabled:true ccPublicAddress:127.0.0.1 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 metadataListenPort:9121 replicationLogBufferPagesize:262144 address:0.0.0.0]
2019-12-02T14:45:27.445+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T14:45:27.449+00:00 INFO CBAS.cbas analytics driver is running; pid: 394
2019-12-02T14:45:30.100+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:45:30.112+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T14:45:31.602+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T14:45:31.680+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T14:45:32.356+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T14:45:32.452+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T14:45:32.469+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T14:45:32.536+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:32.543+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"394","tid":1,"ts":1575297932543045,"s":"p","args":{"datetime":"2019-12-02T14:45:32.541Z"}}
2019-12-02T14:45:32.544+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T14:45:32.545+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T14:45:32.628+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T14:45:32.633+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:32.633+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T14:45:32.635+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T14:45:32.636+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T14:45:32.647+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T14:45:32.744+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T14:45:32.750+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T14:45:32.753+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:45:32.758+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:32.760+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:32.771+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:32.778+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:32.805+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 14 at offset: 0
2019-12-02T14:45:32.806+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 3758096384
2019-12-02T14:45:32.811+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:45:32.818+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:32.818+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:32.824+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:32.828+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:32.880+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:45:32.885+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:32.886+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:32.892+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:32.897+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:32.902+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T14:45:32.906+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:32.907+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:32.912+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:32.917+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:32.926+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T14:45:32.927+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:32.930+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T14:45:34.640+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T14:45:34.653+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T14:45:34.764+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:34.778+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:34.792+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T14:45:34.801+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T14:45:34.804+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:34.807+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T14:45:34.809+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T14:45:34.951+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T14:45:34.953+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T14:45:34.958+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T14:45:34.997+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T14:45:34.997+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T14:45:36.507+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T14:45:36.541+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T14:45:36.541+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:45:36.545+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T14:45:36.546+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T14:45:36.549+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:36.549+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:36.550+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T14:45:36.550+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":14,"nodes":[]}
2019-12-02T14:45:36.559+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:36.567+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T14:45:36.569+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:36.575+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T14:45:36.583+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T14:45:36.599+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@28adf9ef
2019-12-02T14:45:36.602+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T14:45:36.673+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@4ff72416
2019-12-02T14:45:36.674+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:45:36.675+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:45:36.676+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:45:36.684+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T14:45:36.685+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:45:36.704+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T14:45:36.704+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T14:45:36.712+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:36.715+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:36.732+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:36.744+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:36.763+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T14:45:36.840+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T14:45:36.853+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T14:45:36.856+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T14:45:36.923+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T14:45:37.325+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T14:45:37.325+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T14:45:37.325+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T14:45:37.326+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T14:45:37.568+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T14:45:37.676+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T14:45:37.785+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T14:45:37.948+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T14:45:38.081+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T14:45:38.236+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T14:45:38.304+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T14:45:38.433+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T14:45:38.515+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T14:45:38.652+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T14:45:38.721+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T14:45:38.832+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T14:45:38.930+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T14:45:38.972+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T14:45:39.108+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T14:45:39.276+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T14:45:39.278+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T14:45:39.312+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T14:45:39.394+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T14:45:39.396+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T14:45:39.398+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:45:39.399+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T14:45:39.401+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T14:45:39.405+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T14:45:39.409+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.413+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.415+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.418+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.420+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.422+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.424+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.427+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.429+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.431+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.433+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.435+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.438+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.440+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.442+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.444+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T14:45:39.448+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:39.450+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14 which doesn't exist yet
2019-12-02T14:45:39.458+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14 which now exists
2019-12-02T14:45:39.461+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11]
2019-12-02T14:45:39.462+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T14:45:39.469+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T14:45:39.473+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T14:45:39.479+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:39.484+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_11
2019-12-02T14:45:39.488+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T14:45:39.491+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T14:45:39.492+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(14)
2019-12-02T14:45:39.500+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_15
2019-12-02T14:45:39.507+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_14
2019-12-02T14:45:39.509+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 15 at offset: 0
2019-12-02T14:45:39.510+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 4026531840
2019-12-02T14:45:39.512+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T14:45:39.512+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T14:45:39.513+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:45:39.513+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T14:45:39.514+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T14:45:39.515+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@7d324ab7
2019-12-02T14:45:39.516+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@7d324ab7
2019-12-02T14:45:39.519+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T14:45:39.521+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:45:39.555+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T14:45:39.556+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:45:39.585+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T14:45:39.587+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:45:39.589+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T14:45:39.959+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@4ac3264b
2019-12-02T14:45:39.961+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T14:45:39.964+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T14:45:39.965+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T14:45:39.965+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T14:45:39.966+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T14:45:39.972+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T14:45:39.983+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T14:45:39.985+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T14:45:39.986+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T14:45:39.987+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T14:45:39.992+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":15,"nodes":[]}
2019-12-02T14:45:40.029+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T14:45:40.035+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T14:45:40.049+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T14:45:40.049+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T15:00:37.912+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T15:00:37.915+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:37.916+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T15:00:37.928+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T15:00:37.928+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T15:00:38.389+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T15:00:38.394+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T15:00:38.395+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T15:00:38.410+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T15:00:38.415+00:00 [INFO] Using plain authentication for user <ud>@cbas</ud> 
2019-12-02T15:00:38.416+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T15:00:38.473+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T15:00:38.833+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T15:00:38.860+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T15:00:38.896+00:00 INFO CBAS.cbas nodeConfigMap: map[analyticsHttpListenPort:8095 analyticsHttpsListenPort:18095 cbasPort:9122 ccAnalyticsMetadataPartitionId:0 ccClientListenPort:9113 analyticsCcHttpPort:9111 ccAnalyticsHttpListenPort:9111 ccHeartbeatMaxMisses:4 metadataNode:1261062758c5b045ef2ab47d2962b13c replicationLogBufferPagesize:262144 replicationStrategy:metadata analyticsSslEnabled:true ccHeartbeatPeriod:30000 clusterAddress:127.0.0.1 initialRun:false resultListenPort:9117 analyticsNodeName:127.0.0.1:8091 ccControllerId:0 ccPublicAddress:127.0.0.1 clusterListenPort:9115 messagingListenPort:9118 analyticsCbHome:/opt/couchbase defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] metadataCallbackPort:9119 metadataListenPort:9121 additionalCcNodes:[] cbasAddress:127.0.0.1 ccAddress:0.0.0.0 clusterPort:9112 nsServerAddress:127.0.0.1 replicationFactor:4096 replicationListenPort:9120 txnLogBufferPagesize:262144 address:0.0.0.0 ncservicePort:-1 nsServerPort:8091 publicAddress:127.0.0.1 replicationEnabled:true startingPartitionId:0 ccConsoleListenPort:9114 ccClusterListenPort:9112 dataListenPort:9116 logDir:/opt/couchbase/var/lib/couchbase/logs analyticsHttpAdminListenPort:9110]
2019-12-02T15:00:38.940+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T15:00:38.943+00:00 INFO CBAS.cbas analytics driver is running; pid: 394
2019-12-02T15:00:42.414+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T15:00:42.431+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T15:00:44.168+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T15:00:44.231+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T15:00:44.687+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T15:00:44.805+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T15:00:44.822+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T15:00:44.968+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:44.974+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"394","tid":1,"ts":1575298844974058,"s":"p","args":{"datetime":"2019-12-02T15:00:44.972Z"}}
2019-12-02T15:00:44.975+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T15:00:44.977+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T15:00:45.051+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T15:00:45.057+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:45.059+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T15:00:45.060+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T15:00:45.067+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T15:00:45.077+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T15:00:45.160+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T15:00:45.166+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T15:00:45.170+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:00:45.172+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:45.173+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:45.180+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:45.187+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:45.261+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 15 at offset: 0
2019-12-02T15:00:45.262+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 4026531840
2019-12-02T15:00:45.275+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:00:45.284+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:45.285+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:45.292+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:45.299+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:45.404+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:00:45.410+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:45.412+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:45.421+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:45.429+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:45.436+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:00:45.441+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:45.442+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:45.447+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:45.455+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:45.465+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T15:00:45.466+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:45.468+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T15:00:46.952+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T15:00:46.967+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T15:00:47.057+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:47.067+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:47.072+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T15:00:47.075+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T15:00:47.078+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:47.080+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T15:00:47.083+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:00:47.212+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T15:00:47.217+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T15:00:47.216+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T15:00:47.276+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-10:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T15:00:47.277+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-10:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T15:00:48.693+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T15:00:48.721+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T15:00:48.721+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T15:00:48.727+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:48.727+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:48.729+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T15:00:48.730+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T15:00:48.735+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T15:00:48.735+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":15,"nodes":[]}
2019-12-02T15:00:48.734+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T15:00:48.736+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:48.743+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:48.745+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T15:00:48.747+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T15:00:48.770+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@53ba1bb6
2019-12-02T15:00:48.771+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T15:00:48.784+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@2cff071a
2019-12-02T15:00:48.786+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:00:48.787+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:00:48.788+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T15:00:48.791+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T15:00:48.789+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T15:00:48.793+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T15:00:48.799+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T15:00:48.804+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:48.806+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:48.812+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:48.820+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:48.846+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-10:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T15:00:48.901+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-10:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T15:00:48.912+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T15:00:48.915+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T15:00:48.963+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T15:00:49.235+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T15:00:49.341+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T15:00:49.410+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T15:00:49.410+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T15:00:49.410+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T15:00:49.410+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T15:00:49.417+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T15:00:49.472+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T15:00:49.531+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T15:00:49.592+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T15:00:49.633+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T15:00:49.700+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T15:00:49.740+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T15:00:49.812+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T15:00:49.865+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T15:00:49.934+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T15:00:49.976+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T15:00:50.016+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T15:00:50.166+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T15:00:50.356+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T15:00:50.358+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T15:00:50.397+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T15:00:50.521+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-10:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T15:00:50.525+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T15:00:50.528+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T15:00:50.532+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T15:00:50.534+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T15:00:50.535+00:00 INFO CBAS.recovery.CheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T15:00:50.539+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.542+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.547+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.550+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.552+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.554+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.559+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.561+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.564+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.566+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.568+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.570+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.573+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.575+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.577+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.579+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-10:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T15:00:50.587+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:50.588+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15 which doesn't exist yet
2019-12-02T15:00:50.600+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15 which now exists
2019-12-02T15:00:50.603+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:00:50.605+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:00:50.612+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:50.622+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:00:50.631+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:00:50.636+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_12
2019-12-02T15:00:50.640+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T15:00:50.613+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T15:00:50.615+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(15)
2019-12-02T15:00:50.626+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_16
2019-12-02T15:00:50.634+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_15
2019-12-02T15:00:50.638+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 16 at offset: 0
2019-12-02T15:00:50.641+00:00 INFO CBAS.logging.LogManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 4294967296
2019-12-02T15:00:50.645+00:00 INFO CBAS.recovery.CheckpointManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T15:00:50.646+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T15:00:50.648+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T15:00:50.649+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T15:00:50.652+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T15:00:50.654+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-10:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@18851fb5
2019-12-02T15:00:50.656+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-10:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@18851fb5
2019-12-02T15:00:50.662+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T15:00:50.663+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T15:00:50.725+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T15:00:50.726+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T15:00:50.757+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T15:00:50.758+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:00:50.760+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-10:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:00:51.213+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@7c6714cf
2019-12-02T15:00:51.215+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T15:00:51.220+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T15:00:51.220+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T15:00:51.220+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T15:00:51.221+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T15:00:51.226+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T15:00:51.242+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T15:00:51.248+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T15:00:51.250+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T15:00:51.251+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T15:00:51.262+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":16,"nodes":[]}
2019-12-02T15:00:51.293+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T15:00:51.293+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T15:00:51.301+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T15:00:51.301+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T15:16:04.992+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2019-12-02T15:16:04.995+00:00 INFO CBAS.cbas uuid: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:04.995+00:00 INFO CBAS.cbas A single io device was provided; auto-adjusting...
2019-12-02T15:16:05.010+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2019-12-02T15:16:05.010+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2019-12-02T15:16:05.484+00:00 INFO CBAS.cbas audit: created new audit service
2019-12-02T15:16:05.501+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2019-12-02T15:16:05.809+00:00 WARN CBAS.cbas TLS config has been refreshed by ns server
2019-12-02T15:16:05.812+00:00 INFO CBAS.cbas our node is within topology refresh d96dc99a22180b64b21698ff97afeb2f/1; ensuring driver is running...
2019-12-02T15:16:05.821+00:00 INFO CBAS.cbas nodeConfigMap: map[analyticsHttpAdminListenPort:9110 ccAnalyticsHttpListenPort:9111 startingPartitionId:0 resultListenPort:9117 additionalCcNodes:[] ccControllerId:0 ccPublicAddress:127.0.0.1 ncservicePort:-1 replicationStrategy:metadata replicationListenPort:9120 analyticsCcHttpPort:9111 ccAddress:0.0.0.0 ccHeartbeatMaxMisses:4 clusterPort:9112 initialRun:false dataListenPort:9116 publicAddress:127.0.0.1 address:0.0.0.0 analyticsHttpListenPort:8095 analyticsNodeName:127.0.0.1:8091 cbasAddress:127.0.0.1 clusterListenPort:9115 nsServerPort:8091 replicationLogBufferPagesize:262144 txnLogBufferPagesize:262144 cbasPort:9122 ccHeartbeatPeriod:30000 metadataCallbackPort:9119 metadataNode:1261062758c5b045ef2ab47d2962b13c nsServerAddress:127.0.0.1 messagingListenPort:9118 analyticsSslEnabled:true ccClientListenPort:9113 ccClusterListenPort:9112 ccConsoleListenPort:9114 clusterAddress:127.0.0.1 analyticsCbHome:/opt/couchbase defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] logDir:/opt/couchbase/var/lib/couchbase/logs analyticsHttpsListenPort:18095 ccAnalyticsMetadataPartitionId:0 metadataListenPort:9121 replicationEnabled:true replicationFactor:4096]
2019-12-02T15:16:05.830+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -Xmx1336m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/algebricks-common.jar:/opt/couchbase/lib/cbas/repo/algebricks-compiler.jar:/opt/couchbase/lib/cbas/repo/algebricks-core.jar:/opt/couchbase/lib/cbas/repo/algebricks-data.jar:/opt/couchbase/lib/cbas/repo/algebricks-rewriter.jar:/opt/couchbase/lib/cbas/repo/algebricks-runtime.jar:/opt/couchbase/lib/cbas/repo/args4j-2.33.jar:/opt/couchbase/lib/cbas/repo/asterix-active.jar:/opt/couchbase/lib/cbas/repo/asterix-algebra.jar:/opt/couchbase/lib/cbas/repo/asterix-app.jar:/opt/couchbase/lib/cbas/repo/asterix-common.jar:/opt/couchbase/lib/cbas/repo/asterix-external-data.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-aql.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-common.jar:/opt/couchbase/lib/cbas/repo/asterix-lang-sqlpp.jar:/opt/couchbase/lib/cbas/repo/asterix-metadata.jar:/opt/couchbase/lib/cbas/repo/asterix-om.jar:/opt/couchbase/lib/cbas/repo/asterix-replication.jar:/opt/couchbase/lib/cbas/repo/asterix-runtime.jar:/opt/couchbase/lib/cbas/repo/asterix-transactions.jar:/opt/couchbase/lib/cbas/repo/bcpkix-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/bcprov-jdk15on-1.60.jar:/opt/couchbase/lib/cbas/repo/cbas-common.jar:/opt/couchbase/lib/cbas/repo/cbas-connector.jar:/opt/couchbase/lib/cbas/repo/cbas-dcp-client.jar:/opt/couchbase/lib/cbas/repo/cbas-server.jar:/opt/couchbase/lib/cbas/repo/commons-codec-1.11.jar:/opt/couchbase/lib/cbas/repo/commons-collections4-4.2.jar:/opt/couchbase/lib/cbas/repo/commons-compress-1.18.jar:/opt/couchbase/lib/cbas/repo/commons-io-2.6.jar:/opt/couchbase/lib/cbas/repo/commons-lang3-3.8.1.jar:/opt/couchbase/lib/cbas/repo/commons-logging-1.2.jar:/opt/couchbase/lib/cbas/repo/commons-text-1.6.jar:/opt/couchbase/lib/cbas/repo/core-io-1.7.2.jar:/opt/couchbase/lib/cbas/repo/disruptor-1.2.14-jdk8.jar:/opt/couchbase/lib/cbas/repo/error_prone_annotations-2.3.2.jar:/opt/couchbase/lib/cbas/repo/esri-geometry-api-2.0.0.jar:/opt/couchbase/lib/cbas/repo/failureaccess-1.0.1.jar:/opt/couchbase/lib/cbas/repo/fastutil-8.2.2.jar:/opt/couchbase/lib/cbas/repo/guava-28.0-jre.jar:/opt/couchbase/lib/cbas/repo/httpclient-4.5.6.jar:/opt/couchbase/lib/cbas/repo/httpcore-4.4.10.jar:/opt/couchbase/lib/cbas/repo/hyracks-api.jar:/opt/couchbase/lib/cbas/repo/hyracks-client.jar:/opt/couchbase/lib/cbas/repo/hyracks-comm.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-cc.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-control-nc.jar:/opt/couchbase/lib/cbas/repo/hyracks-data-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-dataflow-std.jar:/opt/couchbase/lib/cbas/repo/hyracks-http.jar:/opt/couchbase/lib/cbas/repo/hyracks-ipc.jar:/opt/couchbase/lib/cbas/repo/hyracks-net.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-bloomfilter.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-btree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-invertedindex.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-lsm-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-am-rtree.jar:/opt/couchbase/lib/cbas/repo/hyracks-storage-common.jar:/opt/couchbase/lib/cbas/repo/hyracks-util.jar:/opt/couchbase/lib/cbas/repo/ini4j-0.5.4.jar:/opt/couchbase/lib/cbas/repo/jackson-annotations-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-core-2.9.10.jar:/opt/couchbase/lib/cbas/repo/jackson-databind-2.9.10.jar:/opt/couchbase/lib/cbas/repo/log4j-api-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-core-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jcl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-jul-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-slf4j-impl-2.11.1.jar:/opt/couchbase/lib/cbas/repo/log4j-web-2.11.1.jar:/opt/couchbase/lib/cbas/repo/netty-all-4.1.32.Final.jar:/opt/couchbase/lib/cbas/repo/netty-tcnative-boringssl-static-2.0.20.Final.jar:/opt/couchbase/lib/cbas/repo/opentracing-api-0.31.0.jar:/opt/couchbase/lib/cbas/repo/rxjava-1.3.8.jar:/opt/couchbase/lib/cbas/repo/slf4j-api-1.7.25.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1261062758c5b045ef2ab47d2962b13c --cc]
2019-12-02T15:16:05.832+00:00 INFO CBAS.cbas analytics driver is running; pid: 375
2019-12-02T15:16:09.820+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T15:16:09.837+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2019-12-02T15:16:11.683+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2019-12-02T15:16:11.761+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2019-12-02T15:16:12.264+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2019-12-02T15:16:12.371+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2019-12-02T15:16:12.393+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2019-12-02T15:16:12.459+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:12.470+00:00 INFO CBAS.trace.Tracer@1261062758c5b045ef2ab47d2962b13c [main] {"name":"Trace-Start","cat":"Tracer","ph":"i","pid":"375","tid":1,"ts":1575299772470056,"s":"p","args":{"datetime":"2019-12-02T15:16:12.467Z"}}
2019-12-02T15:16:12.470+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer@1261062758c5b045ef2ab47d2962b13c to []
2019-12-02T15:16:12.471+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Found JRE version 11.0.4
2019-12-02T15:16:12.528+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Mon Oct 07 13:47:00 UTC 2019","build.number":"2895","build.version":"6.0.3-2895"}
2019-12-02T15:16:12.538+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:12.543+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.hyracks log level to DEBUG
2019-12-02T15:16:12.545+00:00 INFO CBAS.util.LoggingConfigUtil [main] Setting org.apache.asterix log level to DEBUG
2019-12-02T15:16:12.550+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] Setting analytics root log level to DEBUG
2019-12-02T15:16:12.559+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2019-12-02T15:16:12.671+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2 }
2019-12-02T15:16:12.679+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2019-12-02T15:16:12.682+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:16:12.686+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:12.687+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:12.693+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:12.700+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:12.739+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 16 at offset: 0
2019-12-02T15:16:12.744+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 4294967296
2019-12-02T15:16:12.754+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:16:12.760+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:12.761+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:12.768+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:12.783+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:12.897+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:16:12.903+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:12.904+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:12.910+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:12.915+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:12.923+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2019-12-02T15:16:12.927+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:12.928+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:12.933+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:12.940+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:12.948+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2019-12-02T15:16:12.949+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:12.952+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1261062758c5b045ef2ab47d2962b13c=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2019-12-02T15:16:14.467+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2019-12-02T15:16:14.482+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2019-12-02T15:16:14.581+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:14.590+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:14.595+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2019-12-02T15:16:14.597+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2019-12-02T15:16:14.605+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:14.607+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1261062758c5b045ef2ab47d2962b13c joined
2019-12-02T15:16:14.611+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1261062758c5b045ef2ab47d2962b13c
2019-12-02T15:16:14.727+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2019-12-02T15:16:14.733+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2019-12-02T15:16:14.737+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1261062758c5b045ef2ab47d2962b13c] Aborting all tasks for controller CC:0
2019-12-02T15:16:14.753+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] Ensuring all tasks of CC CC:0 have completed
2019-12-02T15:16:14.753+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-9:1261062758c5b045ef2ab47d2962b13c] All tasks of CC CC:0 have completed
2019-12-02T15:16:16.164+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/memcached-cert.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/memcached-key.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"],"minTlsVersion":1.0,"supportedProtocols":["TLSv1","TLSv1.1","TLSv1.2"],"clientAuth":"NONE"} and native openssl version: BoringSSL-269484159
2019-12-02T15:16:16.190+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2019-12-02T15:16:16.190+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T15:16:16.194+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:16.195+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:16.199+00:00 INFO CBAS.cbas starting coordinator
2019-12-02T15:16:16.200+00:00 INFO CBAS.cbas Starting replicas monitor
2019-12-02T15:16:16.201+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:16.205+00:00 INFO CBAS.cbas Notified path /cbas/bootstrap/ensureCc/1261062758c5b045ef2ab47d2962b13c changed to {}
2019-12-02T15:16:16.206+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":16,"nodes":[]}
2019-12-02T15:16:16.207+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:16.210+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2019-12-02T15:16:16.219+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2019-12-02T15:16:16.228+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2019-12-02T15:16:16.238+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.RegistrationTasksRequestMessage@4e37eecd
2019-12-02T15:16:16.241+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-2:ClusterController] Building registration tasks for node 1261062758c5b045ef2ab47d2962b13c with status IDLE and system state: HEALTHY
2019-12-02T15:16:16.290+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@24ae4c79
2019-12-02T15:16:16.294+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:16:16.295+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:16:16.295+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T15:16:16.298+00:00 INFO CBAS.management.ReplicationChannel [1261062758c5b045ef2ab47d2962b13c Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2019-12-02T15:16:16.296+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartReplicationServiceTask" }
2019-12-02T15:16:16.300+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T15:16:16.301+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Getting latest checkpoint
2019-12-02T15:16:16.305+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:16.306+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:16.310+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:16.314+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:16.321+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Bootstrapping metadata
2019-12-02T15:16:16.371+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-9:1261062758c5b045ef2ab47d2962b13c] block exhausted; obtaining new block from supplier
2019-12-02T15:16:16.393+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: TxnIdBlockRequest
2019-12-02T15:16:16.398+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: TxnIdBlockResponse
2019-12-02T15:16:16.423+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(1)
2019-12-02T15:16:16.718+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(2)
2019-12-02T15:16:16.756+00:00 INFO CBAS.cbas Notified path /cbas/config/node/1261062758c5b045ef2ab47d2962b13c changed to {"configVersion":1,"config":{"additionalCcNodes":[],"address":"0.0.0.0","analyticsCbHome":"/opt/couchbase","analyticsCcHttpPort":"9111","analyticsHttpAdminListenPort":"9110","analyticsHttpListenPort":"8095","analyticsHttpsListenPort":"18095","analyticsNodeName":"127.0.0.1:8091","analyticsSslEnabled":true,"cbasAddress":"127.0.0.1","cbasPort":"9122","ccAddress":"0.0.0.0","ccAnalyticsHttpListenPort":"9111","ccAnalyticsMetadataPartitionId":0,"ccClientListenPort":"9113","ccClusterListenPort":"9112","ccConsoleListenPort":"9114","ccControllerId":"0","ccHeartbeatMaxMisses":"4","ccHeartbeatPeriod":"30000","ccPublicAddress":"127.0.0.1","clusterAddress":"127.0.0.1","clusterListenPort":"9115","clusterPort":"9112","dataListenPort":"9116","defaultDir":"/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0","initialRun":false,"iodevices":["/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0"],"logDir":"/opt/couchbase/var/lib/couchbase/logs","messagingListenPort":"9118","metadataCallbackPort":"9119","metadataListenPort":"9121","metadataNode":"1261062758c5b045ef2ab47d2962b13c","ncservicePort":"-1","nsServerAddress":"127.0.0.1","nsServerPort":8091,"publicAddress":"127.0.0.1","replicationEnabled":true,"replicationFactor":4096,"replicationListenPort":9120,"replicationLogBufferPagesize":262144,"replicationStrategy":"metadata","resultListenPort":"9117","startingPartitionId":"0","txnLogBufferPagesize":262144},"nodeId":"1261062758c5b045ef2ab47d2962b13c"}
2019-12-02T15:16:16.757+00:00 INFO CBAS.cbas Notified path /cbas/nextControllerId changed to 1
2019-12-02T15:16:16.757+00:00 INFO CBAS.cbas Notified path /cbas/nextPartitionId changed to 1
2019-12-02T15:16:16.757+00:00 INFO CBAS.cbas Notified path /cbas/topology changed to {"nodes":[{"nodeId":"1261062758c5b045ef2ab47d2962b13c","priority":0,"opaque":{"cc-http-port":"9111","controller-id":"0","host":"127.0.0.1","num-iodevices":"1","starting-partition-id":"0"}}],"id":"d96dc99a22180b64b21698ff97afeb2f","type":"topology-change-rebalance","ccNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataNodeId":"1261062758c5b045ef2ab47d2962b13c","metadataPartition":0,"rev":1,"configVersion":1,"balanceState":"balanced","keepNodesUpdated":true}
2019-12-02T15:16:16.828+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(3)
2019-12-02T15:16:16.948+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(4)
2019-12-02T15:16:17.011+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(5)
2019-12-02T15:16:17.195+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(6)
2019-12-02T15:16:17.264+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(7)
2019-12-02T15:16:17.303+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(8)
2019-12-02T15:16:17.373+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(10)
2019-12-02T15:16:17.419+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(12)
2019-12-02T15:16:17.484+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(9)
2019-12-02T15:16:17.524+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(13)
2019-12-02T15:16:17.579+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(14)
2019-12-02T15:16:17.614+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(11)
2019-12-02T15:16:17.642+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Finished enlistment of metadata B-trees in old universe
2019-12-02T15:16:17.732+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting DDL recovery ...
2019-12-02T15:16:17.904+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed DDL recovery.
2019-12-02T15:16:17.905+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(53)
2019-12-02T15:16:17.942+00:00 INFO CBAS.context.DatasetMemoryManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reserved(1048576) for dataset(52)
2019-12-02T15:16:18.065+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-9:1261062758c5b045ef2ab47d2962b13c] Metadata node bound
2019-12-02T15:16:18.066+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "MetadataBootstrapTask" }
2019-12-02T15:16:18.066+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T15:16:18.067+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExternalLibrarySetupTask", "metadata-node" : true }
2019-12-02T15:16:18.067+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "CheckpointTask" }
2019-12-02T15:16:18.067+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting sharp checkpoint...
2019-12-02T15:16:18.071+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 1 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.074+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 2 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.075+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 3 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.077+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 4 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.079+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 5 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.081+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 6 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.082+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 7 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.085+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 8 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.087+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 9 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.089+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 10 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.091+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 11 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.093+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 12 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.095+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 13 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.098+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 14 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.100+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 52 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.102+00:00 INFO CBAS.context.PrimaryIndexOperationTracker [Executor-9:1261062758c5b045ef2ab47d2962b13c] Primary index on dataset 53 and partition 0 is empty... skipping flush
2019-12-02T15:16:18.106+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14]
2019-12-02T15:16:18.108+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_16 which doesn't exist yet
2019-12-02T15:16:18.116+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_16 which now exists
2019-12-02T15:16:18.119+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_16]
2019-12-02T15:16:18.120+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_15
2019-12-02T15:16:18.124+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:18.129+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_14
2019-12-02T15:16:18.134+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_16
2019-12-02T15:16:18.139+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleting checkpoint file at: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_13
2019-12-02T15:16:18.142+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Terminating LogFlusher thread ...
2019-12-02T15:16:18.145+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogFlusher thread is terminated.
2019-12-02T15:16:18.146+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] closing current log file with id(16)
2019-12-02T15:16:18.156+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_17
2019-12-02T15:16:18.161+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_16
2019-12-02T15:16:18.167+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] initializing log anchor with log file Id: 17 at offset: 0
2019-12-02T15:16:18.168+00:00 INFO CBAS.logging.LogManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LogManager starts logging in LSN: 4563402752
2019-12-02T15:16:18.170+00:00 INFO CBAS.recovery.CheckpointManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed sharp checkpoint.
2019-12-02T15:16:18.170+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "CheckpointTask" }
2019-12-02T15:16:18.170+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T15:16:18.171+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting lifecycle components
2019-12-02T15:16:18.171+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2019-12-02T15:16:18.172+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-9:1261062758c5b045ef2ab47d2962b13c] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@4f54352
2019-12-02T15:16:18.173+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-9:1261062758c5b045ef2ab47d2962b13c] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@4f54352
2019-12-02T15:16:18.182+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2019-12-02T15:16:18.184+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T15:16:18.224+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2019-12-02T15:16:18.224+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T15:16:18.248+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "BindMetadataNodeTask" }
2019-12-02T15:16:18.249+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Starting startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:16:18.249+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-9:1261062758c5b045ef2ab47d2962b13c] Completed startup task: { "class" : "UpdateNodeStatusTask" }
2019-12-02T15:16:18.608+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-2:ClusterController] Received message: org.apache.asterix.app.replication.message.NCLifecycleTaskReportMessage@7f25d161
2019-12-02T15:16:18.610+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Metadata node 1261062758c5b045ef2ab47d2962b13c is now active
2019-12-02T15:16:18.614+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from UNUSABLE to PENDING
2019-12-02T15:16:18.614+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now PENDING
2019-12-02T15:16:18.615+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] updating cluster state from PENDING to RECOVERING
2019-12-02T15:16:18.616+00:00 INFO CBAS.utils.ClusterStateManager [Executor-2:ClusterController] Cluster State is now RECOVERING
2019-12-02T15:16:18.620+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Starting Global Recovery
2019-12-02T15:16:18.636+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Current replicas []
2019-12-02T15:16:18.638+00:00 WARN CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Couldn't find additional candidate nodes for metadata replicas
2019-12-02T15:16:18.640+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Refreshing state of replicas []
2019-12-02T15:16:18.640+00:00 INFO CBAS.rebalance.ReplicationUtil [Executor-3:ClusterController] Updating metadata replicas to: []
2019-12-02T15:16:18.647+00:00 INFO CBAS.cbas Notified path /cbas/cluster/state/metadata/replica changed to {"revision":17,"nodes":[]}
2019-12-02T15:16:18.683+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-3:ClusterController] Global Recovery Completed. Refreshing cluster state...
2019-12-02T15:16:18.684+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] updating cluster state from RECOVERING to ACTIVE
2019-12-02T15:16:18.687+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-2:ClusterController] Starting active recovery
2019-12-02T15:16:18.689+00:00 INFO CBAS.utils.ClusterStateManager [Executor-3:ClusterController] Cluster State is now ACTIVE
2019-12-02T15:17:19.904+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":true,"multiStatement":true}
2019-12-02T15:17:20.020+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-3:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1261062758c5b045ef2ab47d2962b13c): SELECT   DataverseName,   DataverseName || '.' || DatasetName AS fullName,   DatasetName AS id,   TRUE AS isDataset,   BucketName AS bucketName,   `Filter` AS `filter`,   LinkName,    ( SELECT       idx.IndexName,       idx.SearchKey,       idx.SearchKeyType     FROM       Metadata.`Index` AS idx     WHERE idx.IsPrimary = false       AND idx.DatasetName = ds.DatasetName      AND idx.DataverseName = ds.DataverseName) AS indexes FROM   Metadata.`Dataset` AS ds WHERE   BucketName IS NOT missing UNION ALL SELECT   dv.DataverseName,   TRUE AS isDataverse,   ( SELECT       l.Name     FROM       Metadata.`Link` AS l     WHERE       l.DataverseName = dv.DataverseName) AS links FROM   Metadata.`Dataverse` AS dv WHERE   dv.DataverseName != 'Metadata' UNION ALL SELECT   DataverseName,   Name,   TRUE as isLink FROM   Metadata.`Link`;;
2019-12-02T15:17:20.408+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-0] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-12-02T15:17:20.442+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-4:ClusterController] Received message: ExecuteStatementRequestMessage(id=2, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-12-02T15:17:22.122+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.2
2019-12-02T15:17:22.125+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2019-12-02T15:17:22.159+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=2): 53 characters
2019-12-02T15:17:22.167+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=1): 53 characters
2019-12-02T15:17:22.377+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: com.couchbase.analytics.messaging.ShadowingStatsRequest@684a0ecb
2019-12-02T15:17:22.394+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: com.couchbase.analytics.messaging.ShadowingStatsResponse@9f95e43
2019-12-02T15:18:01.324+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-1] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-12-02T15:18:01.345+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=4, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-12-02T15:18:01.702+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.3
2019-12-02T15:18:01.711+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=4): 53 characters
2019-12-02T15:18:39.812+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-2] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-12-02T15:18:39.827+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=5, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-12-02T15:18:40.199+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.4
2019-12-02T15:18:40.206+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=5): 53 characters
2019-12-02T15:18:51.803+00:00 INFO CBAS.server.QueryServiceServlet [HttpExecutor(port:8095)-3] handleRequest: {"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":null,"clientContextID":null,"format":null,"timeout":null,"maxResultReads":null,"planFormat":null,"expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"signature":false,"multiStatement":true}
2019-12-02T15:18:51.820+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-5:ClusterController] Received message: ExecuteStatementRequestMessage(id=6, from=1261062758c5b045ef2ab47d2962b13c): with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;;
2019-12-02T15:18:52.275+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.5
2019-12-02T15:18:52.283+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1261062758c5b045ef2ab47d2962b13c] Received message: ExecuteStatementResponseMessage(id=6): 53 characters
